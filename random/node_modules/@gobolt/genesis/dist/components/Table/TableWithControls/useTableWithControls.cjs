"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("react/jsx-runtime"),l=require("react"),T=require("../useTable.cjs"),v=require("../__mocks__/table-mocks.cjs"),i={primaryTableRowData:{sortOptions:[{value:"status",label:o.jsx("span",{children:"Status"})},{value:"address",label:o.jsx("span",{children:"Address"})},{value:"job_subtype",label:o.jsx("span",{children:"Type"})}],searchByPlaceholder:"Search by Address",isSortedAscending:!0},secondaryTableRowData:{groups:{orders:["Cancelled","Paused"],warehouse:["D2C"],availability:["Out of Stock"]},totalRecords:0}},w={columns:v.mockColumns,filters:{order:"asc"},fetchUrl:"/table/data",fetchOptions:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filters:{order:"asc",search:"",page:1,per_page:10,sort:null}})}};exports.useTableWithControls=C=>{const[u,a]=l.useState(w),[n,p]=l.useState(i.secondaryTableRowData.groups),[f,y]=l.useState(i.primaryTableRowData),{secondaryTableRowData:b}=i,h={...b,groups:n},{dataSource:c,columns:S,rowSelection:g}=T.useTable(u);return c?{onChange:r=>{if(r.event==="inputChange"&&a(t=>({...t,filters:{...t.filters,search:r.payload},fetchOptions:{...t.fetchOptions,body:JSON.stringify({filters:{...t.filters,search:r.payload}})}})),r.event==="primaryChange"){const{value:t}=r.payload;a(e=>({...e,filters:{...e.filters,sort:t},fetchOptions:{...e.fetchOptions,body:JSON.stringify({filters:{...e.filters,sort:t}})}}))}if(r.event==="groupItemClick"){const{title:t,item:e}=r.payload;((d,O)=>{const s={...n};s[d]=s[d].filter(m=>m!==O),p(s)})(t,e)}if(r.event==="orderClick"){y(e=>({...e,isSortedAscending:!e.isSortedAscending}));const t=r.payload.value;a(e=>({...e,filters:{...e.filters,order:t},fetchOptions:{...e.fetchOptions,body:JSON.stringify({filters:{...e.filters,order:t}})}}))}},primaryTableRowData:f,secondaryTableRowData:h,dataSource:c,columns:S,rowSelection:g}:null};
