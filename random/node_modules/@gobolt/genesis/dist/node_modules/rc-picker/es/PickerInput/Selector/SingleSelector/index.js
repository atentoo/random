import l from "../../../../../@babel/runtime/helpers/esm/defineProperty.js";
import D from "../../../../../@babel/runtime/helpers/esm/extends.js";
import N from "../../../../../@babel/runtime/helpers/esm/objectSpread2.js";
import U from "../../../../../@babel/runtime/helpers/esm/slicedToArray.js";
import W from "../../../../../@babel/runtime/helpers/esm/objectWithoutProperties.js";
import X from "../../../../../../_virtual/index.js";
import * as o from "react";
import { isSame as Y } from "../../../utils/dateUtil.js";
import Z from "../../context.js";
import $, { ClearIcon as O } from "../Icon.js";
import b from "../Input.js";
import ee from "../hooks/useInputProps.js";
import ne from "../hooks/useRootProps.js";
import oe from "./MultipleDates.js";
var re = ["id", "open", "prefix", "clearIcon", "suffixIcon", "activeHelp", "allHelp", "focused", "onFocus", "onBlur", "onKeyDown", "locale", "generateConfig", "placeholder", "className", "style", "onClick", "onClear", "internalPicker", "value", "onChange", "onSubmit", "onInputChange", "multiple", "maxTagCount", "format", "maskFormat", "preserveInvalidOnBlur", "onInvalid", "disabled", "invalid", "inputReadOnly", "direction", "onOpenChange", "onMouseDown", "required", "aria-required", "autoFocus", "tabIndex", "removeIcon"];
function ae(e, k) {
  e.id;
  var w = e.open, m = e.prefix, c = e.clearIcon, f = e.suffixIcon;
  e.activeHelp, e.allHelp;
  var s = e.focused;
  e.onFocus, e.onBlur, e.onKeyDown;
  var S = e.locale, R = e.generateConfig, H = e.placeholder, q = e.className, B = e.style, T = e.onClick, p = e.onClear, M = e.internalPicker, i = e.value, v = e.onChange, K = e.onSubmit;
  e.onInputChange;
  var d = e.multiple, P = e.maxTagCount;
  e.format, e.maskFormat, e.preserveInvalidOnBlur, e.onInvalid;
  var u = e.disabled, j = e.invalid;
  e.inputReadOnly;
  var A = e.direction;
  e.onOpenChange;
  var C = e.onMouseDown;
  e.required, e["aria-required"];
  var I = e.autoFocus, g = e.tabIndex, V = e.removeIcon, _ = W(e, re), z = A === "rtl", r = o.useContext(Z).prefixCls, x = o.useRef(), t = o.useRef();
  o.useImperativeHandle(k, function() {
    return { nativeElement: x.current, focus: function(n) {
      var a;
      (a = t.current) === null || a === void 0 || a.focus(n);
    }, blur: function() {
      var n;
      (n = t.current) === null || n === void 0 || n.blur();
    } };
  });
  var G = ne(_), J = ee(N(N({}, e), {}, { onChange: function(n) {
    v([n]);
  } }), function(n) {
    return { value: n.valueTexts[0] || "", active: s };
  }), E = U(J, 2), L = E[0], h = E[1], y = !(!c || !i.length || u), Q = d ? o.createElement(o.Fragment, null, o.createElement(oe, { prefixCls: r, value: i, onRemove: function(n) {
    var a = i.filter(function(F) {
      return F && !Y(R, S, F, n, M);
    });
    v(a), w || K();
  }, formatDate: h, maxTagCount: P, disabled: u, removeIcon: V, placeholder: H }), o.createElement("input", { className: "".concat(r, "-multiple-input"), value: i.map(h).join(","), ref: t, readOnly: !0, autoFocus: I, tabIndex: g }), o.createElement($, { type: "suffix", icon: f }), y && o.createElement(O, { icon: c, onClear: p })) : o.createElement(b, D({ ref: t }, L(), { autoFocus: I, tabIndex: g, suffixIcon: f, clearIcon: y && o.createElement(O, { icon: c, onClear: p }), showActiveCls: !1 }));
  return o.createElement("div", D({}, G, { className: X(r, l(l(l(l(l({}, "".concat(r, "-multiple"), d), "".concat(r, "-focused"), s), "".concat(r, "-disabled"), u), "".concat(r, "-invalid"), j), "".concat(r, "-rtl"), z), q), style: B, ref: x, onClick: T, onMouseDown: function(n) {
    var a;
    n.target !== ((a = t.current) === null || a === void 0 ? void 0 : a.inputElement) && n.preventDefault(), C == null || C(n);
  } }), m && o.createElement("div", { className: "".concat(r, "-prefix") }, m), Q);
}
var te = o.forwardRef(ae);
process.env.NODE_ENV !== "production" && (te.displayName = "SingleSelector");
export {
  te as default
};
