"use strict";const f=require("../../../../@babel/runtime/helpers/esm/classCallCheck.cjs"),k=require("../../../../@babel/runtime/helpers/esm/createClass.cjs"),u=require("../../../../@babel/runtime/helpers/esm/defineProperty.cjs");var m=["YYYY","MM","DD","HH","mm","ss","SSS"],v=function(){function o(e){f(this,o),u(this,"format",void 0),u(this,"maskFormat",void 0),u(this,"cells",void 0),u(this,"maskCells",void 0),this.format=e;var r=m.map(function(t){return"(".concat(t,")")}).join("|"),a=new RegExp(r,"g");this.maskFormat=e.replace(a,function(t){return"顧".repeat(t.length)});var n=new RegExp("(".concat(m.join("|"),")")),i=(e.split(n)||[]).filter(function(t){return t}),s=0;this.cells=i.map(function(t){var l=m.includes(t),c=s,h=s+t.length;return s=h,{text:t,mask:l,start:c,end:h}}),this.maskCells=this.cells.filter(function(t){return t.mask})}return k(o,[{key:"getSelection",value:function(e){var r=this.maskCells[e]||{};return[r.start||0,r.end||0]}},{key:"match",value:function(e){for(var r=0;r<this.maskFormat.length;r+=1){var a=this.maskFormat[r],n=e[r];if(!n||a!=="顧"&&a!==n)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(e){for(var r=Number.MAX_SAFE_INTEGER,a=0,n=0;n<this.maskCells.length;n+=1){var i=this.maskCells[n],s=i.start,t=i.end;if(e>=s&&e<=t)return n;var l=Math.min(Math.abs(e-s),Math.abs(e-t));l<r&&(r=l,a=n)}return a}}]),o}();module.exports=v;
