"use strict";const S=require("../../../../../@babel/runtime/helpers/esm/extends.cjs"),y=require("../../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),he=require("react"),Se=require("../../../hooks/useTimeInfo.cjs"),ye=require("../../../utils/dateUtil.cjs"),re=require("../../context.cjs"),N=require("./TimeColumn.cjs");function Ne(t){const v=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const d in t)if(d!=="default"){const x=Object.getOwnPropertyDescriptor(t,d);Object.defineProperty(v,d,x.get?x:{enumerable:!0,get:()=>t[d]})}}return v.default=t,Object.freeze(v)}const o=Ne(he);function a(t){return t<12}module.exports=function(t){var v=t.showHour,d=t.showMinute,x=t.showSecond,ie=t.showMillisecond,g=t.use12Hours,le=t.changeOnScroll,s=re.usePanelContext(),ce=s.prefixCls,_=s.values,n=s.generateConfig,A=s.locale,ae=s.onSelect,B=s.onHover,M=B===void 0?function(){}:B,V=s.pickerValue,p=(_==null?void 0:_[0])||null,se=o.useContext(re.PickerHackContext).onCellDblClick,fe=Se(n,t,p),H=y(fe,5),de=H[0],c=H[1],G=H[2],I=H[3],J=H[4],q=function(e){return[p&&n[e](p),V&&n[e](V)]},me=q("getHour"),K=y(me,2),u=K[0],w=K[1],ve=q("getMinute"),L=y(ve,2),E=L[0],z=L[1],ge=q("getSecond"),Q=y(ge,2),O=Q[0],F=Q[1],Me=q("getMillisecond"),R=y(Me,2),T=R[0],U=R[1],pe=u===null?null:a(u)?"am":"pm",He=o.useMemo(function(){return g?a(u)?c.filter(function(e){return a(e.value)}):c.filter(function(e){return!a(e.value)}):c},[u,c,g]),k=function(e,r){var f,h=e.filter(function(l){return!l.disabled});return r??(h==null||(f=h[0])===null||f===void 0?void 0:f.value)},i=k(c,u),W=o.useMemo(function(){return G(i)},[G,i]),m=k(W,E),X=o.useMemo(function(){return I(i,m)},[I,i,m]),P=k(X,O),Y=o.useMemo(function(){return J(i,m,P)},[J,i,m,P]),Z=k(Y,T),be=o.useMemo(function(){if(!g)return[];var e=n.getNow(),r=n.setHour(e,6),f=n.setHour(e,18),h=function(l,Ce){var oe=A.cellMeridiemFormat;return oe?ye.formatValue(l,{generateConfig:n,locale:A,format:oe}):Ce};return[{label:h(r,"AM"),value:"am",disabled:c.every(function(l){return l.disabled||!a(l.value)})},{label:h(f,"PM"),value:"pm",disabled:c.every(function(l){return l.disabled||a(l.value)})}]},[c,g,n,A]),b=function(e){var r=de(e);ae(r)},j=o.useMemo(function(){var e=p||V||n.getNow(),r=function(f){return f!=null};return r(u)?(e=n.setHour(e,u),e=n.setMinute(e,E),e=n.setSecond(e,O),e=n.setMillisecond(e,T)):r(w)?(e=n.setHour(e,w),e=n.setMinute(e,z),e=n.setSecond(e,F),e=n.setMillisecond(e,U)):r(i)&&(e=n.setHour(e,i),e=n.setMinute(e,m),e=n.setSecond(e,P),e=n.setMillisecond(e,Z)),e},[p,V,u,E,O,T,i,m,P,Z,w,z,F,U,n]),D=function(e,r){return e===null?null:n[r](j,e)},$=function(e){return D(e,"setHour")},ee=function(e){return D(e,"setMinute")},ne=function(e){return D(e,"setSecond")},te=function(e){return D(e,"setMillisecond")},ue=function(e){return e===null?null:e!=="am"||a(u)?e==="pm"&&a(u)?n.setHour(j,u+12):j:n.setHour(j,u-12)},C={onDblClick:se,changeOnScroll:le};return o.createElement("div",{className:"".concat(ce,"-content")},v&&o.createElement(N,S({units:He,value:u,optionalValue:w,type:"hour",onChange:function(e){b($(e))},onHover:function(e){M($(e))}},C)),d&&o.createElement(N,S({units:W,value:E,optionalValue:z,type:"minute",onChange:function(e){b(ee(e))},onHover:function(e){M(ee(e))}},C)),x&&o.createElement(N,S({units:X,value:O,optionalValue:F,type:"second",onChange:function(e){b(ne(e))},onHover:function(e){M(ne(e))}},C)),ie&&o.createElement(N,S({units:Y,value:T,optionalValue:U,type:"millisecond",onChange:function(e){b(te(e))},onHover:function(e){M(te(e))}},C)),g&&o.createElement(N,S({units:be,value:pe,type:"meridiem",onChange:function(e){b(ue(e))},onHover:function(e){M(ue(e))}},C)))};
