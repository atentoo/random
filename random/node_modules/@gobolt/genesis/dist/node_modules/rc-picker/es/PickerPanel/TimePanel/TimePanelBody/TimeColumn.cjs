"use strict";const N=require("../../../../../@babel/runtime/helpers/esm/defineProperty.cjs"),I=require("../../../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),z=require("../../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),F=require("../../../../../../_virtual/index.cjs"),G=require("../../../../../rc-util/es/hooks/useLayoutEffect.cjs"),H=require("react"),L=require("../../context.cjs"),U=require("./useScrollTo.cjs");function V(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const l=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,l.get?l:{enumerable:!0,get:()=>e[t]})}}return n.default=e,Object.freeze(n)}const i=V(H);function X(e){return e.map(function(n){return[n.value,n.label,n.disabled].join(",")}).join(";")}module.exports=function(e){var n=e.units,t=e.value,l=e.optionalValue,q=e.type,g=e.onChange,C=e.onHover,T=e.onDblClick,S=e.changeOnScroll,f=L.usePanelContext(),d=f.prefixCls,E=f.cellRender,h=f.now,j=f.locale,O="".concat(d,"-time-panel"),s="".concat(d,"-time-panel-cell"),p=i.useRef(null),M=i.useRef(),m=function(){clearTimeout(M.current)},k=U(p,t??l),b=z(k,3),x=b[0],A=b[1],D=b[2];G.default(function(){return x(),m(),function(){A(),m()}},[t,l,X(n)]);var R="".concat(O,"-column");return i.createElement("ul",{className:R,ref:p,"data-type":q,onScroll:function(a){m();var v=a.target;!D()&&S&&(M.current=setTimeout(function(){var r=p.current,c=r.querySelector("li").offsetTop,u=Array.from(r.querySelectorAll("li")).map(function(o){return o.offsetTop-c}).map(function(o,w){return n[w].disabled?Number.MAX_SAFE_INTEGER:Math.abs(o-v.scrollTop)}),P=Math.min.apply(Math,I(u)),_=u.findIndex(function(o){return o===P}),y=n[_];y&&!y.disabled&&g(y.value)},300))}},n.map(function(a){var v=a.label,r=a.value,c=a.disabled,u=i.createElement("div",{className:"".concat(s,"-inner")},v);return i.createElement("li",{key:r,className:F(s,N(N({},"".concat(s,"-selected"),t===r),"".concat(s,"-disabled"),c)),onClick:function(){c||g(r)},onDoubleClick:function(){!c&&T&&T()},onMouseEnter:function(){C(r)},onMouseLeave:function(){C(null)},"data-value":r},E?E(r,{prefixCls:d,originNode:u,today:h,type:"time",subType:q,locale:j}):u)}))};
