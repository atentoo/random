import G from "../../../@babel/runtime/helpers/esm/objectSpread2.js";
import k from "../../../@babel/runtime/helpers/esm/slicedToArray.js";
import * as g from "react";
import "../../../rc-util/es/hooks/useLayoutEffect.js";
import "../../../rc-util/es/ref.js";
import { warningOnce as E } from "../../../rc-util/es/warning.js";
import { findValidateTime as te } from "../PickerPanel/TimePanel/TimePanelBody/util.js";
import { leftPad as J } from "../utils/miscUtil.js";
function C() {
  return [];
}
function D(s, v) {
  for (var e = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, p = arguments.length > 3 && arguments[3] !== void 0 && arguments[3], b = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : [], i = arguments.length > 5 && arguments[5] !== void 0 ? arguments[5] : 2, d = [], u = e >= 1 ? 0 | e : 1, r = s; r <= v; r += u) {
    var o = b.includes(r);
    o && p || d.push({ label: J(r, i), value: r, disabled: o });
  }
  return d;
}
function me(s) {
  var v = arguments.length > 2 ? arguments[2] : void 0, e = (arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}) || {}, p = e.use12Hours, b = e.hourStep, i = b === void 0 ? 1 : b, d = e.minuteStep, u = d === void 0 ? 1 : d, r = e.secondStep, o = r === void 0 ? 1 : r, T = e.millisecondStep, V = T === void 0 ? 100 : T, m = e.hideDisabledOptions, N = e.disabledTime, x = e.disabledHours, y = e.disabledMinutes, P = e.disabledSeconds, U = g.useMemo(function() {
    return v || s.getNow();
  }, [v, s]);
  if (process.env.NODE_ENV !== "production") {
    var K = 60 % u == 0, Q = 60 % o == 0;
    E(24 % i == 0, "`hourStep` ".concat(i, " is invalid. It should be a factor of 24.")), E(K, "`minuteStep` ".concat(u, " is invalid. It should be a factor of 60.")), E(Q, "`secondStep` ".concat(o, " is invalid. It should be a factor of 60."));
  }
  var O = g.useCallback(function(c) {
    var t = (N == null ? void 0 : N(c)) || {};
    return [t.disabledHours || x || C, t.disabledMinutes || y || C, t.disabledSeconds || P || C, t.disabledMilliseconds || C];
  }, [N, x, y, P]), R = g.useMemo(function() {
    return O(U);
  }, [U, O]), h = k(R, 4), j = h[0], A = h[1], B = h[2], L = h[3], w = g.useCallback(function(c, t, M, H) {
    var l = D(0, 23, i, m, c());
    return [p ? l.map(function(n) {
      return G(G({}, n), {}, { label: J(n.value % 12 || 12, 2) });
    }) : l, function(n) {
      return D(0, 59, u, m, t(n));
    }, function(n, f) {
      return D(0, 59, o, m, M(n, f));
    }, function(n, f, a) {
      return D(0, 999, V, m, H(n, f, a), 3);
    }];
  }, [m, i, p, V, u, o]), W = g.useMemo(function() {
    return w(j, A, B, L);
  }, [w, j, A, B, L]), S = k(W, 4), _ = S[0], q = S[1], z = S[2], F = S[3];
  return [function(c, t) {
    var M = function() {
      return _;
    }, H = q, l = z, n = F;
    if (t) {
      var f = O(t), a = k(f, 4), X = a[0], Y = a[1], Z = a[2], $ = a[3], ee = w(X, Y, Z, $), I = k(ee, 4), ne = I[0];
      M = function() {
        return ne;
      }, H = I[1], l = I[2], n = I[3];
    }
    return te(c, M, H, l, n, s);
  }, _, q, z, F];
}
export {
  me as default
};
