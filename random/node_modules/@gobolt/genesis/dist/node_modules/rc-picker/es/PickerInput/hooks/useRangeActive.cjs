"use strict";const S=require("../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),q=require("react"),y=require("./useLockEffect.cjs");function R(t){const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(u,n,i.get?i:{enumerable:!0,get:()=>t[n]})}}return u.default=t,Object.freeze(u)}const r=R(q);module.exports=function(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=r.useState(0),l=S(i,2),f=l[0],v=l[1],O=r.useState(!1),a=S(O,2),c=a[0],h=a[1],o=r.useRef([]),g=r.useRef(null),m=r.useRef(null),d=function(e){g.current=e};return y(c||n,function(){c||(o.current=[],d(null))}),r.useEffect(function(){c&&o.current.push(f)},[c,f]),[c,function(e){h(e)},function(e){return e&&(m.current=e),m.current},f,v,function(e){var s=o.current,j=new Set(s.filter(function(b){return e[b]||u[b]})),p=s[s.length-1]===0?1:0;return j.size>=2||t[p]?null:p},o.current,d,function(e){return g.current===e}]};
