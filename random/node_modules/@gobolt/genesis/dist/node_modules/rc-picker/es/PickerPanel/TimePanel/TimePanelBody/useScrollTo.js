import q from "../../../../../rc-util/es/hooks/useEvent.js";
import "../../../../../rc-util/es/hooks/useLayoutEffect.js";
import * as o from "react";
import "../../../../../rc-util/es/ref.js";
import "../../../../../rc-util/es/warning.js";
import p from "../../../../../rc-util/es/raf.js";
import y from "../../../../../rc-util/es/Dom/isVisible.js";
var b = 1 / 3;
function w(d, R) {
  var u = o.useRef(!1), n = o.useRef(null), e = o.useRef(null), t = function() {
    p.cancel(n.current), u.current = !1;
  }, c = o.useRef();
  return [q(function() {
    var r = d.current;
    if (e.current = null, c.current = 0, r) {
      var l = r.querySelector('[data-value="'.concat(R, '"]')), f = r.querySelector("li");
      l && f && function a() {
        t(), u.current = !0, c.current += 1;
        var m = r.scrollTop, S = f.offsetTop, v = l.offsetTop, i = v - S;
        if (v === 0 && l !== f || !y(r)) c.current <= 5 && (n.current = p(a));
        else {
          var T = m + (i - m) * b, s = Math.abs(i - T);
          if (e.current !== null && e.current < s) t();
          else {
            if (e.current = s, s <= 1) return r.scrollTop = i, void t();
            r.scrollTop = T, n.current = p(a);
          }
        }
      }();
    }
  }), t, function() {
    return u.current;
  }];
}
export {
  w as default
};
