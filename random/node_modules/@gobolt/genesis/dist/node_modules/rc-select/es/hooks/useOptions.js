import * as g from "react";
import { convertChildrenToData as c } from "../utils/legacyUtil.js";
var O = function(s, l, o, f, v) {
  return g.useMemo(function() {
    var e = s;
    !s && (e = c(l));
    var m = /* @__PURE__ */ new Map(), r = /* @__PURE__ */ new Map(), u = function(i, n, a) {
      a && typeof a == "string" && i.set(n[a], n);
    };
    return function i(n) {
      for (var a = arguments.length > 1 && arguments[1] !== void 0 && arguments[1], p = 0; p < n.length; p += 1) {
        var t = n[p];
        !t[o.options] || a ? (m.set(t[o.value], t), u(r, t, o.label), u(r, t, f), u(r, t, v)) : i(t[o.options], !0);
      }
    }(e), { options: e, valueOptions: m, labelOptions: r };
  }, [s, l, o, f, v]);
};
export {
  O as default
};
