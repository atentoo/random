import q from "../../@babel/runtime/helpers/esm/objectSpread2.js";
import le from "../../@babel/runtime/helpers/esm/extends.js";
import r from "../../@babel/runtime/helpers/esm/defineProperty.js";
import ne from "../../@babel/runtime/helpers/esm/typeof.js";
import o from "../../../_virtual/index.js";
import l, { useRef as z, cloneElement as re } from "react";
import { hasPrefixSuffix as oe, hasAddon as te } from "./utils/commonUtils.js";
var me = l.forwardRef(function(e, G) {
  var v, x, N, J = e.inputElement, g = e.children, t = e.prefixCls, W = e.prefix, u = e.suffix, C = e.addonBefore, A = e.addonAfter, K = e.className, L = e.style, m = e.disabled, I = e.readOnly, U = e.focused, R = e.triggerFocus, c = e.allowClear, E = e.value, k = e.handleReset, _ = e.hidden, s = e.classes, a = e.classNames, D = e.dataAttrs, p = e.styles, n = e.components, j = e.onClear, B = g ?? J, T = (n == null ? void 0 : n.affixWrapper) || "span", X = (n == null ? void 0 : n.groupWrapper) || "span", Z = (n == null ? void 0 : n.wrapper) || "span", F = (n == null ? void 0 : n.groupAddon) || "span", w = z(null), H = oe(e), i = re(B, { value: E, className: o((v = B.props) === null || v === void 0 ? void 0 : v.className, !H && (a == null ? void 0 : a.variant)) || null }), M = z(null);
  if (l.useImperativeHandle(G, function() {
    return { nativeElement: M.current || w.current };
  }), H) {
    var O = null;
    if (c) {
      var $ = !m && !I && E, y = "".concat(t, "-clear-icon"), Q = ne(c) === "object" && c != null && c.clearIcon ? c.clearIcon : "âœ–";
      O = l.createElement("button", { type: "button", tabIndex: -1, onClick: function(f) {
        k == null || k(f), j == null || j();
      }, onMouseDown: function(f) {
        return f.preventDefault();
      }, className: o(y, r(r({}, "".concat(y, "-hidden"), !$), "".concat(y, "-has-suffix"), !!u)) }, Q);
    }
    var d = "".concat(t, "-affix-wrapper"), V = o(d, r(r(r(r(r({}, "".concat(t, "-disabled"), m), "".concat(d, "-disabled"), m), "".concat(d, "-focused"), U), "".concat(d, "-readonly"), I), "".concat(d, "-input-with-clear-btn"), u && c && E), s == null ? void 0 : s.affixWrapper, a == null ? void 0 : a.affixWrapper, a == null ? void 0 : a.variant), Y = (u || c) && l.createElement("span", { className: o("".concat(t, "-suffix"), a == null ? void 0 : a.suffix), style: p == null ? void 0 : p.suffix }, O, u);
    i = l.createElement(T, le({ className: V, style: p == null ? void 0 : p.affixWrapper, onClick: function(f) {
      var h;
      (h = w.current) !== null && h !== void 0 && h.contains(f.target) && (R == null || R());
    } }, D == null ? void 0 : D.affixWrapper, { ref: w }), W && l.createElement("span", { className: o("".concat(t, "-prefix"), a == null ? void 0 : a.prefix), style: p == null ? void 0 : p.prefix }, W), i, Y);
  }
  if (te(e)) {
    var b = "".concat(t, "-group"), P = "".concat(b, "-addon"), S = "".concat(b, "-wrapper"), ee = o("".concat(t, "-wrapper"), b, s == null ? void 0 : s.wrapper, a == null ? void 0 : a.wrapper), ae = o(S, r({}, "".concat(S, "-disabled"), m), s == null ? void 0 : s.group, a == null ? void 0 : a.groupWrapper);
    i = l.createElement(X, { className: ae, ref: M }, l.createElement(Z, { className: ee }, C && l.createElement(F, { className: P }, C), i, A && l.createElement(F, { className: P }, A)));
  }
  return l.cloneElement(i, { className: o((x = i.props) === null || x === void 0 ? void 0 : x.className, K) || null, style: q(q({}, (N = i.props) === null || N === void 0 ? void 0 : N.style), L), hidden: _ });
});
export {
  me as default
};
