"use strict";const b=require("../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),r=require("react"),v=require("../hooks/useColorDrag.cjs"),D=require("./Palette.cjs"),H=require("../../../../../_virtual/index.cjs"),M=require("../../../../rc-util/es/hooks/useEvent.cjs");require("../../../../rc-util/es/hooks/useLayoutEffect.cjs"),require("../../../../rc-util/es/ref.cjs"),require("../../../../rc-util/es/warning.cjs");const w=require("../color.cjs"),p=require("../util.cjs"),S=require("./Gradient.cjs"),j=require("./Handler.cjs"),k=require("./Transform.cjs");module.exports=function(t){var c=t.prefixCls,i=t.colors,C=t.disabled,x=t.onChange,d=t.onChangeComplete,n=t.color,o=t.type,u=r.useRef(),a=r.useRef(),l=r.useRef(n),s=function(e){return o==="hue"?e.getHue():100*e.a},h=M(function(e){var m=p.calculateColor({offset:e,targetRef:a,containerRef:u,color:n,type:o});l.current=m,x(s(m))}),R=v({color:n,targetRef:a,containerRef:u,calculate:function(){return p.calcOffset(n,o)},onDragChange:h,onDragChangeComplete:function(){d(s(l.current))},direction:"x",disabledDrag:C}),f=b(R,2),q=f[0],g=f[1],y=r.useMemo(function(){if(o==="hue"){var e=n.toHsb();return e.s=1,e.b=1,e.a=1,new w.Color(e)}return n},[n,o]),E=r.useMemo(function(){return i.map(function(e){return"".concat(e.color," ").concat(e.percent,"%")})},[i]);return r.createElement("div",{ref:u,className:H("".concat(c,"-slider"),"".concat(c,"-slider-").concat(o)),onMouseDown:g,onTouchStart:g},r.createElement(D,{prefixCls:c},r.createElement(k,{x:q.x,y:q.y,ref:a},r.createElement(j,{size:"small",color:y.toHexString(),prefixCls:c})),r.createElement(S,{colors:E,type:o,prefixCls:c})))};
