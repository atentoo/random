"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const v=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),p=require("../../../rc-util/es/hooks/useEvent.cjs"),g=require("../../../rc-util/es/hooks/useLayoutEffect.cjs"),y=require("../../../rc-util/es/isEqual.cjs"),S=require("react"),q=require("react-dom");function x(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const u=x(S);exports.createContext=function(t){var e=u.createContext(void 0);return{Context:e,Provider:function(n){var r=n.value,o=n.children,c=u.useRef(r);c.current=r;var s=u.useState(function(){return{getValue:function(){return c.current},listeners:new Set}}),i=v(s,1)[0];return g.default(function(){q.unstable_batchedUpdates(function(){i.listeners.forEach(function(d){d(r)})})},[r]),u.createElement(e.Provider,{value:i},o)},defaultValue:t}},exports.useContext=function(t,e){var n=p(typeof e=="function"?e:function(a){if(e===void 0)return a;if(!Array.isArray(e))return a[e];var f={};return e.forEach(function(l){f[l]=a[l]}),f}),r=u.useContext(t==null?void 0:t.Context),o=r||{},c=o.listeners,s=o.getValue,i=u.useRef();i.current=n(r?s():t==null?void 0:t.defaultValue);var d=u.useState({}),b=v(d,2)[1];return g.default(function(){if(r)return c.add(a),function(){c.delete(a)};function a(f){var l=n(f);y(i.current,l,!0)||b({})}},[r]),i.current};
