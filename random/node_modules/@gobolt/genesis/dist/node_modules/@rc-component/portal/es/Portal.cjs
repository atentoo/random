"use strict";const f=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),x=require("react"),L=require("react-dom"),a=require("../../../rc-util/es/Dom/canUseDom.cjs"),T=require("../../../rc-util/es/warning.cjs"),b=require("../../../rc-util/es/ref.cjs"),V=require("./Context.cjs"),z=require("./useDom.cjs"),A=require("./useScrollLocker.cjs"),B=require("./mock.cjs");function F(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const u=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,u.get?u:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const n=F(x);var O=function(e){return e!==!1&&(a()&&e?typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e:null)},S=n.forwardRef(function(e,t){var r=e.open,u=e.autoLock,s=e.getContainer,N=e.debug,d=e.autoDestroy,p=d===void 0||d,o=e.children,w=n.useState(r),v=f(w,2),D=v[0],j=v[1],q=D||r;process.env.NODE_ENV!=="production"&&T.warningOnce(a()||!r,"Portal only work in client side. Please call 'useEffect' to show Portal instead default render in SSR."),n.useEffect(function(){(p||r)&&j(r)},[r,p]);var R=n.useState(function(){return O(s)}),g=f(R,2),i=g[0],k=g[1];n.useEffect(function(){var P=O(s);k(P??null)});var C=z(q&&!i,N),y=f(C,2),m=y[0],_=y[1],l=i??m;A(u&&r&&a()&&(l===m||l===document.body));var E=null;o&&b.supportRef(o)&&t&&(E=o.ref);var h=b.useComposeRef(E,t);if(!q||!a()||i===void 0)return null;var M=l===!1||B.inlineMock(),c=o;return t&&(c=n.cloneElement(o,{ref:h})),n.createElement(V.Provider,{value:_},M?c:L.createPortal(c,l))});process.env.NODE_ENV!=="production"&&(S.displayName="Portal"),module.exports=S;
