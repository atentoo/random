"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const A=require("../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),q=require("../../../@babel/runtime/helpers/esm/typeof.cjs"),_=require("../../../@babel/runtime/helpers/esm/createClass.cjs"),M=require("../../../@babel/runtime/helpers/esm/classCallCheck.cjs"),O=require("../../../@babel/runtime/helpers/esm/assertThisInitialized.cjs"),C=require("../../../@babel/runtime/helpers/esm/inherits.cjs"),D=require("../../../@babel/runtime/helpers/esm/createSuper.cjs"),I=require("../../../@babel/runtime/helpers/esm/wrapNativeSuper.cjs"),b=require("../../../@babel/runtime/helpers/esm/defineProperty.cjs"),F=require("../../../@babel/runtime/helpers/esm/toConsumableArray.cjs");var R=/%[sdj%]/g;function m(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var t=r.field;e[t]=e[t]||[],e[t].push(r)}),e}function j(n,e,r){var t=0,i=n.length;(function u(o){if(o&&o.length)r(o);else{var f=t;t+=1,f<i?e(n[f],u):r([])}})([])}exports.warning=function(){},typeof process<"u"&&process.env&&process.env.NODE_ENV!=="production"&&typeof window<"u"&&typeof document<"u"&&(exports.warning=function(n,e){typeof console<"u"&&console.warn&&typeof ASYNC_VALIDATOR_NO_WARNING>"u"&&e.every(function(r){return typeof r=="string"})&&console.warn(n,e)});var E=function(n){C(r,n);var e=D(r);function r(t,i){var u;return M(this,r),u=e.call(this,"Async Validation Error"),b(O(u),"errors",void 0),b(O(u),"fields",void 0),u.errors=t,u.fields=i,u}return _(r)}(I(Error));exports.AsyncValidationError=E,exports.asyncMap=function(n,e,r,t,i){if(e.first){var u=new Promise(function(c,v){var p=function(l){var s=[];return Object.keys(l).forEach(function(y){s.push.apply(s,F(l[y]||[]))}),s}(n);j(p,r,function(l){return t(l),l.length?v(new E(l,m(l))):c(i)})});return u.catch(function(c){return c}),u}var o=e.firstFields===!0?Object.keys(n):e.firstFields||[],f=Object.keys(n),d=f.length,N=0,a=[],w=new Promise(function(c,v){var p=function(l){if(a.push.apply(a,l),++N===d)return t(a),a.length?v(new E(a,m(a))):c(i)};f.length||(t(a),c(i)),f.forEach(function(l){var s=n[l];o.indexOf(l)!==-1?j(s,r,p):function(y,V,S){var g=[],k=0,x=y.length;function P(h){g.push.apply(g,F(h||[])),++k===x&&S(g)}y.forEach(function(h){V(h,P)})}(s,r,p)})});return w.catch(function(c){return c}),w},exports.complementError=function(n,e){return function(r){var t,i;return t=n.fullFields?function(u,o){for(var f=u,d=0;d<o.length;d++){if(f==null)return f;f=f[o[d]]}return f}(e,n.fullFields):e[r.field||n.fullField],(i=r)&&i.message!==void 0?(r.field=r.field||n.fullField,r.fieldValue=t,r):{message:typeof r=="function"?r():r,fieldValue:t,field:r.field||n.fullField}}},exports.convertFieldsError=m,exports.deepMerge=function(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];q(t)==="object"&&q(n[r])==="object"?n[r]=A(A({},n[r]),t):n[r]=t}}return n},exports.format=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var i=0,u=r.length;return typeof n=="function"?n.apply(null,r):typeof n=="string"?n.replace(R,function(o){if(o==="%%")return"%";if(i>=u)return o;switch(o){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return o}}):n},exports.isEmptyValue=function(n,e){return n==null||!(e!=="array"||!Array.isArray(n)||n.length)||!(!function(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}(e)||typeof n!="string"||n)};
