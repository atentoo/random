"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("react"),ee=require("../../../@ant-design/icons/es/icons/BarsOutlined.cjs"),q=require("../../../@ant-design/icons/es/icons/LeftOutlined.cjs"),k=require("../../../@ant-design/icons/es/icons/RightOutlined.cjs"),P=require("../../../../_virtual/index.cjs"),te=require("../../../rc-util/es/omit.cjs");require("../config-provider/index.cjs");const re=require("./context.cjs"),le=require("./style/sider.cjs"),ne=require("../config-provider/context.cjs");function ae(e){const c=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const s in e)if(s!=="default"){const r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(c,s,r.get?r:{enumerable:!0,get:()=>e[s]})}}return c.default=e,Object.freeze(c)}const l=ae(o);var se=function(e,c){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)c.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]])}return s};const z={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},_=l.createContext({}),ie=(()=>{let e=0;return function(){return e+=1,`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:""}${e}`}})(),W=l.forwardRef((e,c)=>{const{prefixCls:s,className:r,trigger:n,children:L,defaultCollapsed:M=!1,theme:T="dark",style:F={},collapsible:x=!1,reverseArrow:y=!1,width:D=200,collapsedWidth:b=80,zeroWidthTriggerStyle:A,breakpoint:m,onCollapse:v,onBreakpoint:w}=e,B=se(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:O}=o.useContext(re.LayoutContext),[d,C]=o.useState("collapsed"in e?e.collapsed:M),[E,H]=o.useState(!1);o.useEffect(()=>{"collapsed"in e&&C(e.collapsed)},[e.collapsed]);const S=(t,i)=>{"collapsed"in e||C(t),v==null||v(t,i)},{getPrefixCls:R,direction:I}=o.useContext(ne.ConfigContext),a=R("layout-sider",s),[V,G,J]=le(a),$=o.useRef(null);$.current=t=>{H(t.matches),w==null||w(t.matches),d!==t.matches&&S(t.matches,"responsive")},o.useEffect(()=>{function t(p){return $.current(p)}let i;if(typeof window<"u"){const{matchMedia:p}=window;if(p&&m&&m in z){i=p(`screen and (max-width: ${z[m]})`);try{i.addEventListener("change",t)}catch{i.addListener(t)}t(i)}}return()=>{try{i==null||i.removeEventListener("change",t)}catch{i==null||i.removeListener(t)}}},[m]),o.useEffect(()=>{const t=ie("ant-sider-");return O.addSider(t),()=>O.removeSider(t)},[]);const N=()=>{S(!d,"clickTrigger")},K=te(B,["collapsed"]),g=d?b:D,u=(f=g,!Number.isNaN(Number.parseFloat(f))&&isFinite(f)?`${g}px`:String(g));var f;const h=parseFloat(String(b||0))===0?l.createElement("span",{onClick:N,className:P(`${a}-zero-width-trigger`,`${a}-zero-width-trigger-${y?"right":"left"}`),style:A},n||l.createElement(ee,null)):null,j=I==="rtl"==!y,Q={expanded:j?l.createElement(k,null):l.createElement(q,null),collapsed:j?l.createElement(q,null):l.createElement(k,null)}[d?"collapsed":"expanded"],U=n!==null?h||l.createElement("div",{className:`${a}-trigger`,onClick:N,style:{width:u}},n||Q):null,X=Object.assign(Object.assign({},F),{flex:`0 0 ${u}`,maxWidth:u,minWidth:u,width:u}),Y=P(a,`${a}-${T}`,{[`${a}-collapsed`]:!!d,[`${a}-has-trigger`]:x&&n!==null&&!h,[`${a}-below`]:!!E,[`${a}-zero-width`]:parseFloat(u)===0},r,G,J),Z=l.useMemo(()=>({siderCollapsed:d}),[d]);return V(l.createElement(_.Provider,{value:Z},l.createElement("aside",Object.assign({className:Y},K,{style:X,ref:c}),l.createElement("div",{className:`${a}-children`},L),x||E&&h?U:null)))});process.env.NODE_ENV!=="production"&&(W.displayName="Sider"),exports.SiderContext=_,exports.default=W;
