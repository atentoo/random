"use strict";const W=require("react"),D=require("../../../../_virtual/index.cjs"),Y=require("../../../rc-util/es/hooks/useMergedState.cjs"),A=require("../../../rc-util/es/KeyCode.cjs"),q=require("../_util/getRenderPropValue.cjs"),G=require("../_util/motion.cjs"),H=require("../_util/reactNode.cjs"),J=require("../tooltip/index.cjs"),E=require("./PurePanel.cjs"),Q=require("../config-provider/context.cjs"),X=require("./style/index.cjs");function Z(e){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const t=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,t.get?t:{enumerable:!0,get:()=>e[o]})}}return r.default=e,Object.freeze(r)}const c=Z(W);var $=function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]])}return o};const d=c.forwardRef((e,r)=>{var o,t;const{prefixCls:n,title:P,content:h,overlayClassName:x,placement:w="top",trigger:S="hover",children:a,mouseEnterDelay:V=.1,mouseLeaveDelay:_=.1,onOpenChange:m,overlayStyle:L={},styles:s,classNames:i}=e,v=$(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:f,className:R,style:z,classNames:g,styles:b}=Q.useComponentConfig("popover"),p=f("popover",n),[I,K,T]=X.default(p),k=f(),B=D(x,K,T,R,g.root,i==null?void 0:i.root),F=D(g.body,i==null?void 0:i.body),[M,U]=Y(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),O=(l,u)=>{U(l,!0),m==null||m(l,u)},j=q.getRenderPropValue(P),N=q.getRenderPropValue(h);return I(c.createElement(J,Object.assign({placement:w,trigger:S,mouseEnterDelay:V,mouseLeaveDelay:_},v,{prefixCls:p,classNames:{root:B,body:F},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},b.root),z),L),s==null?void 0:s.root),body:Object.assign(Object.assign({},b.body),s==null?void 0:s.body)},ref:r,open:M,onOpenChange:l=>{O(l)},overlay:j||N?c.createElement(E.Overlay,{prefixCls:p,title:j,content:N}):null,transitionName:G.getTransitionName(k,"zoom-big",v.transitionName),"data-popover-inject":!0}),H.cloneElement(a,{onKeyDown:l=>{var u,y;c.isValidElement(a)&&((y=a==null?void 0:(u=a.props).onKeyDown)===null||y===void 0||y.call(u,l)),(C=>{C.keyCode===A.ESC&&O(!1,C)})(l)}})))});d._InternalPanelDoNotUseOrYouWillBeFired=E.default,process.env.NODE_ENV!=="production"&&(d.displayName="Popover"),module.exports=d;
