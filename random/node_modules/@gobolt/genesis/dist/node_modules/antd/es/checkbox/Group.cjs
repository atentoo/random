"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const C=require("../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),T=require("react"),z=require("../../../../_virtual/index.cjs"),G=require("../../../rc-util/es/omit.cjs");require("../config-provider/index.cjs");const R=require("../config-provider/hooks/useCSSVarCls.cjs"),A=require("./Checkbox.cjs"),x=require("./GroupContext.cjs"),B=require("./style/index.cjs"),F=require("../config-provider/context.cjs");function H(t){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const l in t)if(l!=="default"){const r=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(o,l,r.get?r:{enumerable:!0,get:()=>t[l]})}}return o.default=t,Object.freeze(o)}const i=H(T);var J=function(t,o){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)o.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(l[r[a]]=t[r[a]])}return l};const K=i.forwardRef((t,o)=>{const{defaultValue:l,children:r,options:a=[],prefixCls:h,className:q,rootClassName:j,style:S,onChange:g}=t,n=J(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:P,direction:N}=i.useContext(F.ConfigContext),[c,m]=i.useState(n.value||l||[]),[w,y]=i.useState([]);i.useEffect(()=>{"value"in n&&m(n.value||[])},[n.value]);const f=i.useMemo(()=>a.map(e=>typeof e=="string"||typeof e=="number"?{label:e,value:e}:e),[a]),d=P("checkbox",h),p=`${d}-group`,O=R(d),[E,_,M]=B.default(d,O),V=G(n,["value","disabled"]),k=a.length?f.map(e=>i.createElement(A,{prefixCls:d,key:e.value.toString(),disabled:"disabled"in e?e.disabled:n.disabled,value:e.value,checked:c.includes(e.value),onChange:e.onChange,className:`${p}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label)):r,I={toggleOption:e=>{const u=c.indexOf(e.value),s=C(c);u===-1?s.push(e.value):s.splice(u,1),"value"in n||m(s),g==null||g(s.filter(b=>w.includes(b)).sort((b,D)=>f.findIndex(v=>v.value===b)-f.findIndex(v=>v.value===D)))},value:c,disabled:n.disabled,name:n.name,registerValue:e=>{y(u=>[].concat(C(u),[e]))},cancelValue:e=>{y(u=>u.filter(s=>s!==e))}},$=z(p,{[`${p}-rtl`]:N==="rtl"},q,j,M,O,_);return E(i.createElement("div",Object.assign({className:$,style:S},V,{ref:o}),i.createElement(x.Provider,{value:I},k)))});exports.GroupContext=x,exports.default=K;
