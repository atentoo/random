"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const ee=require("react"),re=require("../../../../_virtual/index.cjs"),oe=require("../../../rc-field-form/es/index.cjs"),le=require("../config-provider/context.cjs"),w=require("../config-provider/DisabledContext.cjs"),te=require("../config-provider/hooks/useCSSVarCls.cjs"),ae=require("../config-provider/hooks/useSize.cjs"),ne=require("../config-provider/SizeContext.cjs"),g=require("./context.cjs"),I=require("./hooks/useForm.cjs"),ie=require("./hooks/useFormWarning.cjs"),se=require("./style/index.cjs"),ce=require("./validateMessagesContext.cjs");function ue(e){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,r.get?r:{enumerable:!0,get:()=>e[t]})}}return a.default=e,Object.freeze(a)}const o=ue(ee);var de=function(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(t[r[n]]=e[r[n]])}return t};const fe=(e,a)=>{const t=o.useContext(w.default),{getPrefixCls:r,direction:n,requiredMark:d,colon:R,scrollToFirstError:O,className:S,style:$}=le.useComponentConfig("form"),{prefixCls:D,className:z,rootClassName:A,size:V,disabled:W=t,form:H,colon:y,labelAlign:q,labelWrap:L,labelCol:C,wrapperCol:F,hideRequiredMark:j,layout:f="horizontal",scrollToFirstError:E,requiredMark:m,onFinishFailed:N,name:c,style:B,feedbackIcons:M,variant:G}=e,J=de(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),b=ae(V),K=o.useContext(ce);process.env.NODE_ENV!=="production"&&ie(e);const p=o.useMemo(()=>m!==void 0?m:!j&&(d===void 0||d),[j,m,d]),P=y??R,i=r("form",D),k=te(i),[Q,U,X]=se.default(i,k),Y=re(i,`${i}-${f}`,{[`${i}-hide-required-mark`]:p===!1,[`${i}-rtl`]:n==="rtl",[`${i}-${b}`]:b},X,k,U,S,z,A),[s]=I(H),{__INTERNAL__:_}=s;_.name=c;const Z=o.useMemo(()=>({name:c,labelAlign:q,labelCol:C,labelWrap:L,wrapperCol:F,vertical:f==="vertical",colon:P,requiredMark:p,itemRef:_.itemRef,form:s,feedbackIcons:M}),[c,q,C,F,f,P,p,s,M]),h=o.useRef(null);o.useImperativeHandle(a,()=>{var l;return Object.assign(Object.assign({},s),{nativeElement:(l=h.current)===null||l===void 0?void 0:l.nativeElement})});const x=(l,u)=>{if(l){let v={block:"nearest"};typeof l=="object"&&(v=Object.assign(Object.assign({},v),l)),s.scrollToField(u,v)}};return Q(o.createElement(g.VariantContext.Provider,{value:G},o.createElement(w.DisabledContextProvider,{disabled:W},o.createElement(ne.default.Provider,{value:b},o.createElement(g.FormProvider,{validateMessages:K},o.createElement(g.FormContext.Provider,{value:Z},o.createElement(oe.default,Object.assign({id:c},J,{name:c,onFinishFailed:l=>{if(N==null||N(l),l.errorFields.length){const u=l.errorFields[0].name;if(E!==void 0)return void x(E,u);O!==void 0&&x(O,u)}},form:s,ref:h,style:Object.assign(Object.assign({},$),B),className:Y}))))))))},T=o.forwardRef(fe);process.env.NODE_ENV!=="production"&&(T.displayName="Form"),exports.useForm=I,exports.default=T;
