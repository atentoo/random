"use strict";const R=require("react"),V=require("../../../../_virtual/index.cjs"),z=require("../../../rc-util/es/hooks/useLayoutEffect.cjs");require("../../../rc-util/es/ref.cjs");const P=require("../../../rc-util/es/utils/get.cjs"),B=require("../../../rc-util/es/utils/set.cjs");require("../../../rc-util/es/warning.cjs");const T=require("../grid/col.cjs"),O=require("./context.cjs"),A=require("./ErrorList.cjs"),G=require("./style/fallbackCmp.cjs");function J(t){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(l,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return l.default=t,Object.freeze(l)}const e=J(R);var K=function(t,l){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&l.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)l.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};module.exports=t=>{const{prefixCls:l,status:n,labelCol:r,wrapperCol:o,children:$,errors:y,warnings:v,_internalItemRender:c,extra:u,help:_,fieldId:p,marginBottom:m,onErrorVisibleChanged:S,label:I}=t,s=`${l}-item`,a=e.useContext(O.FormContext),h=e.useMemo(()=>{let i=Object.assign({},o||a.wrapperCol||{});return I===null&&!r&&!o&&a.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(g=>{const x=g?[g]:[],w=P(a.labelCol,x),C=typeof w=="object"?w:{},N=P(i,x);"span"in C&&!("offset"in(typeof N=="object"?N:{}))&&C.span<24&&(i=B.default(i,[].concat(x,["offset"]),C.span))}),i},[o,a]),F=V(`${s}-control`,h.className),M=e.useMemo(()=>{const{labelCol:i,wrapperCol:g}=a;return K(a,["labelCol","wrapperCol"])},[a]),f=e.useRef(null),[D,j]=e.useState(0);z.default(()=>{u&&f.current?j(f.current.clientHeight):j(0)},[u]);const E=e.createElement("div",{className:`${s}-control-input`},e.createElement("div",{className:`${s}-control-input-content`},$)),H=e.useMemo(()=>({prefixCls:l,status:n}),[l,n]),d=m!==null||y.length||v.length?e.createElement(O.FormItemPrefixContext.Provider,{value:H},e.createElement(A,{fieldId:p,errors:y,warnings:v,help:_,helpStatus:n,className:`${s}-explain-connected`,onVisibleChanged:S})):null,q={};p&&(q.id=`${p}_extra`);const b=u?e.createElement("div",Object.assign({},q,{className:`${s}-extra`,ref:f}),u):null,k=d||b?e.createElement("div",{className:`${s}-additional`,style:m?{minHeight:m+D}:{}},d,b):null,L=c&&c.mark==="pro_table_render"&&c.render?c.render(t,{input:E,errorList:d,extra:b}):e.createElement(e.Fragment,null,E,k);return e.createElement(O.FormContext.Provider,{value:M},e.createElement(T,Object.assign({},h,{className:F}),L),e.createElement(G,{prefixCls:l}))};
