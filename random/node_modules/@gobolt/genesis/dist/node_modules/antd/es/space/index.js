import * as s from "react";
import j from "../../../../_virtual/index.js";
import U from "../../../rc-util/es/Children/toArray.js";
import { isPresetSize as h, isValidGapNumber as E } from "../_util/gapSize.js";
import { useComponentConfig as X } from "../config-provider/context.js";
import Y from "./Compact.js";
import { SpaceContextProvider as Z } from "./context.js";
import { SpaceContext as ue } from "./context.js";
import ee from "./Item.js";
import te from "./style/index.js";
var re = function(t, l) {
  var a = {};
  for (var e in t) Object.prototype.hasOwnProperty.call(t, e) && l.indexOf(e) < 0 && (a[e] = t[e]);
  if (t != null && typeof Object.getOwnPropertySymbols == "function") {
    var r = 0;
    for (e = Object.getOwnPropertySymbols(t); r < e.length; r++) l.indexOf(e[r]) < 0 && Object.prototype.propertyIsEnumerable.call(t, e[r]) && (a[e[r]] = t[e[r]]);
  }
  return a;
};
const z = s.forwardRef((t, l) => {
  var a;
  const { getPrefixCls: e, direction: r, size: d, className: P, style: S, classNames: k, styles: G } = X("space"), { size: i = d ?? "small", align: v, className: _, rootClassName: A, children: I, direction: g = "horizontal", prefixCls: V, split: D, style: M, wrap: R = !1, classNames: N, styles: O } = t, W = re(t, ["size", "align", "className", "rootClassName", "children", "direction", "prefixCls", "split", "style", "wrap", "classNames", "styles"]), [n, m] = Array.isArray(i) ? i : [i, i], b = h(m), x = h(n), q = E(m), B = E(n), $ = U(I, { keepEmpty: !0 }), C = v === void 0 && g === "horizontal" ? "center" : v, o = e("space", V), [F, H, J] = te(o), K = j(o, P, H, `${o}-${g}`, { [`${o}-rtl`]: r === "rtl", [`${o}-align-${C}`]: C, [`${o}-gap-row-${m}`]: b, [`${o}-gap-col-${n}`]: x }, _, A, J), w = j(`${o}-item`, (a = N == null ? void 0 : N.item) !== null && a !== void 0 ? a : k.item);
  let f = 0;
  const L = $.map((c, u) => {
    var y;
    c != null && (f = u);
    const T = (c == null ? void 0 : c.key) || `${w}-${u}`;
    return s.createElement(ee, { className: w, key: T, index: u, split: D, style: (y = O == null ? void 0 : O.item) !== null && y !== void 0 ? y : G.item }, c);
  }), Q = s.useMemo(() => ({ latestIndex: f }), [f]);
  if ($.length === 0) return null;
  const p = {};
  return R && (p.flexWrap = "wrap"), !x && B && (p.columnGap = n), !b && q && (p.rowGap = m), F(s.createElement("div", Object.assign({ ref: l, className: K, style: Object.assign(Object.assign(Object.assign({}, p), S), M) }, W), s.createElement(Z, { value: Q }, L)));
});
z.Compact = Y, process.env.NODE_ENV !== "production" && (z.displayName = "Space");
export {
  ue as SpaceContext,
  z as default
};
