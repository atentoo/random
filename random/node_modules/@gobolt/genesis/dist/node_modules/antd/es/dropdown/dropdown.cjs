"use strict";const re=require("react"),ne=require("../../../@ant-design/icons/es/icons/LeftOutlined.cjs"),te=require("../../../@ant-design/icons/es/icons/RightOutlined.cjs"),D=require("../../../../_virtual/index.cjs"),oe=require("../../../rc-dropdown/es/Dropdown.cjs"),ie=require("../../../rc-util/es/hooks/useEvent.cjs"),le=require("../../../rc-util/es/hooks/useMergedState.cjs"),ae=require("../../../rc-util/es/omit.cjs"),se=require("../_util/hooks/useZIndex.cjs"),ue=require("../_util/isPrimitive.cjs"),de=require("../_util/placements.cjs"),ce=require("../_util/PurePanel.cjs"),pe=require("../_util/reactNode.cjs"),me=require("../_util/warning.cjs"),ve=require("../_util/zindexContext.cjs");require("../config-provider/index.cjs");const ge=require("../config-provider/hooks/useCSSVarCls.cjs"),be=require("../menu/index.cjs"),qe=require("../menu/OverrideContext.cjs");require("../../../@ant-design/cssinjs/es/extractStyle.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useCacheToken.cjs"),require("../../../@ant-design/cssinjs/es/StyleContext.cjs"),require("../../../@ant-design/cssinjs/es/theme/createTheme.cjs"),require("../../../rc-util/es/warning.cjs"),require("../../../@ant-design/cssinjs/es/theme/ThemeCache.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useCompatibleInsertionEffect.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useEffectCleanupRegister.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useHMR.cjs"),require("../../../@ant-design/cssinjs/es/transformers/legacyLogicalProperties.cjs"),require("../../../rc-util/es/ref.cjs"),require("../../../@ant-design/cssinjs-utils/es/util/statistic.cjs"),require("../../../@ant-design/cssinjs-utils/es/_util/hooks/useUniqueMemo.cjs");const fe=require("../theme/useToken.cjs"),Ce=require("./style/index.cjs"),ye=require("../config-provider/context.cjs");function Ee(t){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(l,n,a.get?a:{enumerable:!0,get:()=>t[n]})}}return l.default=t,Object.freeze(l)}const r=Ee(re),v=t=>{var l;const{menu:n,arrow:a,prefixCls:A,children:g,trigger:I,disabled:h,dropdownRender:x,getPopupContainer:M,overlayClassName:S,rootClassName:z,overlayStyle:b,open:j,onOpenChange:p,visible:R,onVisibleChange:P,mouseEnterDelay:L=.15,mouseLeaveDelay:W=.1,autoAdjustOverflow:k=!0,placement:o="",overlay:q,transitionName:f}=t,{getPopupContainer:T,getPrefixCls:C,direction:d,dropdown:m}=r.useContext(ye.ConfigContext),c=me.devUseWarning("Dropdown");process.env.NODE_ENV!=="production"&&([["visible","open"],["onVisibleChange","onOpenChange"]].forEach(e=>{let[s,u]=e;c.deprecated(!(s in t),s,u)}),c.deprecated(!("overlay"in t),"overlay","menu"));const U=r.useMemo(()=>{const e=C();return f!==void 0?f:o.includes("top")?`${e}-slide-down`:`${e}-slide-up`},[C,o,f]),X=r.useMemo(()=>o?o.includes("Center")?o.slice(0,o.indexOf("Center")):o:d==="rtl"?"bottomRight":"bottomLeft",[o,d]);if(process.env.NODE_ENV!=="production"){if(o.includes("Center")){const e=o.slice(0,o.indexOf("Center"));process.env.NODE_ENV!=="production"&&c(!o.includes("Center"),"deprecated",`You are using '${o}' placement in Dropdown, which is deprecated. Try to use '${e}' instead.`)}[["visible","open"],["onVisibleChange","onOpenChange"]].forEach(e=>{let[s,u]=e;c.deprecated(!(s in t),s,u)})}const i=C("dropdown",A),y=ge(i),[Y,B,$]=Ce.default(i,y),[,E]=fe.default(),N=r.Children.only(ue(g)?r.createElement("span",null,g):g),F=pe.cloneElement(N,{className:D(`${i}-trigger`,{[`${i}-rtl`]:d==="rtl"},N.props.className),disabled:(l=N.props.disabled)!==null&&l!==void 0?l:h}),O=h?[]:I,Z=!!(O!=null&&O.includes("contextMenu")),[G,V]=le(!1,{value:j??R}),H=ie(e=>{p==null||p(e,{source:"trigger"}),P==null||P(e),V(e)}),J=D(S,z,B,$,y,m==null?void 0:m.className,{[`${i}-rtl`]:d==="rtl"}),K=de.default({arrowPointAtCenter:typeof a=="object"&&a.pointAtCenter,autoAdjustOverflow:k,offset:E.marginXXS,arrowWidth:a?E.sizePopupArrow:0,borderRadius:E.borderRadius}),Q=r.useCallback(()=>{n!=null&&n.selectable&&(n!=null&&n.multiple)||(p==null||p(!1,{source:"menu"}),V(!1))},[n==null?void 0:n.selectable,n==null?void 0:n.multiple]),[_,ee]=se.useZIndex("Dropdown",b==null?void 0:b.zIndex);let w=r.createElement(oe,Object.assign({alignPoint:Z},ae(t,["rootClassName"]),{mouseEnterDelay:L,mouseLeaveDelay:W,visible:G,builtinPlacements:K,arrow:!!a,overlayClassName:J,prefixCls:i,getPopupContainer:M||T,transitionName:U,trigger:O,overlay:()=>{let e;return e=n!=null&&n.items?r.createElement(be,Object.assign({},n)):typeof q=="function"?q():q,x&&(e=x(e)),e=r.Children.only(typeof e=="string"?r.createElement("span",null,e):e),r.createElement(qe.OverrideProvider,{prefixCls:`${i}-menu`,rootClassName:D($,y),expandIcon:r.createElement("span",{className:`${i}-menu-submenu-arrow`},d==="rtl"?r.createElement(ne,{className:`${i}-menu-submenu-arrow-icon`}):r.createElement(te,{className:`${i}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Q,validator:s=>{let{mode:u}=s;process.env.NODE_ENV!=="production"&&c(!u||u==="vertical","usage",`mode="${u}" is not supported for Dropdown's Menu.`)}},e)},placement:X,onVisibleChange:H,overlayStyle:Object.assign(Object.assign(Object.assign({},m==null?void 0:m.style),b),{zIndex:_})}),F);return _&&(w=r.createElement(ve.Provider,{value:ee},w)),Y(w)},Ne=ce.default(v,"align",void 0,"dropdown",t=>t);v._InternalPanelDoNotUseOrYouWillBeFired=t=>r.createElement(Ne,Object.assign({},t),r.createElement("span",null)),process.env.NODE_ENV!=="production"&&(v.displayName="Dropdown"),module.exports=v;
