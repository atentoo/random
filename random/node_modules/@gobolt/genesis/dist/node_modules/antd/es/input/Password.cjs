"use strict";const d=require("react"),I=require("../../../@ant-design/icons/es/icons/EyeInvisibleOutlined.cjs"),z=require("../../../@ant-design/icons/es/icons/EyeOutlined.cjs"),M=require("../../../../_virtual/index.cjs"),V=require("../../../rc-util/es/omit.cjs"),_=require("../../../rc-util/es/ref.cjs");require("../config-provider/index.cjs");const T=require("../config-provider/DisabledContext.cjs"),$=require("./hooks/useRemovePasswordTimeout.cjs"),U=require("./Input.cjs"),A=require("../config-provider/context.cjs");function B(e){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return s.default=e,Object.freeze(s)}const o=B(d);var F=function(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)s.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]])}return r};const G=e=>e?o.createElement(z,null):o.createElement(I,null),H={click:"onClick",hover:"onMouseOver"},v=o.forwardRef((e,s)=>{const{disabled:r,action:n="click",visibilityToggle:t=!0,iconRender:x=G}=e,j=o.useContext(T.default),C=r??j,a=typeof t=="object"&&t.visible!==void 0,[l,g]=d.useState(()=>!!a&&t.visible),y=d.useRef(null);o.useEffect(()=>{a&&g(t.visible)},[a,t]);const q=$(y),w=()=>{var i;if(C)return;l&&q();const u=!l;g(u),typeof t=="object"&&((i=t.onVisibleChange)===null||i===void 0||i.call(t,u))},{className:E,prefixCls:P,inputPrefixCls:N,size:c}=e,D=F(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:O}=o.useContext(A.ConfigContext),R=O("input",N),f=O("input-password",P),h=t&&(i=>{const u=H[n]||"",p=x(l),k={[u]:w,className:`${i}-icon`,key:"passwordIcon",onMouseDown:b=>{b.preventDefault()},onMouseUp:b=>{b.preventDefault()}};return o.cloneElement(o.isValidElement(p)?p:o.createElement("span",null,p),k)})(f),S=M(f,E,{[`${f}-${c}`]:!!c}),m=Object.assign(Object.assign({},V(D,["suffix","iconRender","visibilityToggle"])),{type:l?"text":"password",className:S,prefixCls:R,suffix:h});return c&&(m.size=c),o.createElement(U.default,Object.assign({ref:_.composeRef(s,y)},m))});process.env.NODE_ENV!=="production"&&(v.displayName="Input.Password"),module.exports=v;
