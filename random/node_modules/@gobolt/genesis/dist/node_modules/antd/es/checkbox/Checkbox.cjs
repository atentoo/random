"use strict";const L=require("react"),x=require("../../../../_virtual/index.cjs"),G=require("../../../rc-checkbox/es/index.cjs"),T=require("../../../rc-util/es/ref.cjs"),F=require("../_util/warning.cjs"),z=require("../_util/wave/index.cjs"),A=require("../_util/wave/interface.cjs");require("../config-provider/index.cjs");const U=require("../config-provider/DisabledContext.cjs"),W=require("../config-provider/hooks/useCSSVarCls.cjs"),B=require("../form/context.cjs"),H=require("./GroupContext.cjs"),J=require("./style/index.cjs"),K=require("./useBubbleLock.cjs"),Q=require("../config-provider/context.cjs");function X(e){const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const t=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(u,o,t.get?t:{enumerable:!0,get:()=>e[o]})}}return u.default=e,Object.freeze(u)}const l=X(L);var Y=function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(t=Object.getOwnPropertySymbols(e);s<t.length;s++)u.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(o[t[s]]=e[t[s]])}return o};const Z=(e,u)=>{var o;const{prefixCls:t,className:s,rootClassName:y,children:d,indeterminate:f=!1,style:E,onMouseEnter:k,onMouseLeave:N,skipGroup:g=!1,disabled:q}=e,n=Y(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:j,direction:w,checkbox:p}=l.useContext(Q.ConfigContext),r=l.useContext(H),{isFormItemInput:M}=l.useContext(B.FormItemInputContext),V=l.useContext(U.default),v=(o=(r==null?void 0:r.disabled)||q)!==null&&o!==void 0?o:V,m=l.useRef(n.value),b=l.useRef(null),_=T.composeRef(u,b);if(process.env.NODE_ENV!=="production"){const c=F.devUseWarning("Checkbox");process.env.NODE_ENV!=="production"&&c("checked"in n||!!r||!("value"in n),"usage","`value` is not a valid prop, do you mean `checked`?")}l.useEffect(()=>{r==null||r.registerValue(n.value)},[]),l.useEffect(()=>{if(!g)return n.value!==m.current&&(r==null||r.cancelValue(m.current),r==null||r.registerValue(n.value),m.current=n.value),()=>r==null?void 0:r.cancelValue(n.value)},[n.value]),l.useEffect(()=>{var c;!((c=b.current)===null||c===void 0)&&c.input&&(b.current.input.indeterminate=f)},[f]);const a=j("checkbox",t),C=W(a),[$,O,I]=J.default(a,C),i=Object.assign({},n);r&&!g&&(i.onChange=function(){n.onChange&&n.onChange.apply(n,arguments),r.toggleOption&&r.toggleOption({label:d,value:n.value})},i.name=r.name,i.checked=r.value.includes(n.value));const P=x(`${a}-wrapper`,{[`${a}-rtl`]:w==="rtl",[`${a}-wrapper-checked`]:i.checked,[`${a}-wrapper-disabled`]:v,[`${a}-wrapper-in-form-item`]:M},p==null?void 0:p.className,s,y,I,C,O),D=x({[`${a}-indeterminate`]:f},A.TARGET_CLS,O),[R,S]=K(i.onClick);return $(l.createElement(z,{component:"Checkbox",disabled:v},l.createElement("label",{className:P,style:Object.assign(Object.assign({},p==null?void 0:p.style),E),onMouseEnter:k,onMouseLeave:N,onClick:R},l.createElement(G.Checkbox,Object.assign({},i,{onClick:S,prefixCls:a,className:D,disabled:v,ref:_})),d!==void 0&&l.createElement("span",{className:`${a}-label`},d))))},h=l.forwardRef(Z);process.env.NODE_ENV!=="production"&&(h.displayName="Checkbox"),module.exports=h;
