import * as l from "react";
const p = (o, n, r) => {
  const t = l.useRef({});
  return [function(i) {
    var a;
    if (!t.current || t.current.data !== o || t.current.childrenColumnName !== n || t.current.getRowKey !== r) {
      let u = function(s) {
        s.forEach((e, d) => {
          const f = r(e, d);
          c.set(f, e), e && typeof e == "object" && n in e && u(e[n] || []);
        });
      };
      const c = /* @__PURE__ */ new Map();
      u(o), t.current = { data: o, childrenColumnName: n, kvMap: c, getRowKey: r };
    }
    return (a = t.current.kvMap) === null || a === void 0 ? void 0 : a.get(i);
  }];
};
export {
  p as default
};
