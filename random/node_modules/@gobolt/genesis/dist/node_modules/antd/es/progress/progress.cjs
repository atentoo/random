"use strict";const R=require("react"),U=require("../../../@ant-design/fast-color/es/FastColor.cjs"),B=require("../../../@ant-design/icons/es/icons/CheckCircleFilled.cjs"),G=require("../../../@ant-design/icons/es/icons/CheckOutlined.cjs"),H=require("../../../@ant-design/icons/es/icons/CloseCircleFilled.cjs"),J=require("../../../@ant-design/icons/es/icons/CloseOutlined.cjs"),S=require("../../../../_virtual/index.cjs"),K=require("../../../rc-util/es/omit.cjs"),Q=require("../_util/warning.cjs");require("../config-provider/index.cjs");const X=require("./Circle.cjs"),Y=require("./Line.cjs"),Z=require("./Steps.cjs"),ee=require("./style/index.cjs"),O=require("./utils.cjs"),re=require("../config-provider/context.cjs");function se(e){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const i in e)if(i!=="default"){const s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(a,i,s.get?s:{enumerable:!0,get:()=>e[i]})}}return a.default=e,Object.freeze(a)}const t=se(R);var te=function(e,a){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(s=Object.getOwnPropertySymbols(e);l<s.length;l++)a.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(i[s[l]]=e[s[l]])}return i};const oe=["normal","exception","active","success"],z=t.forwardRef((e,a)=>{const{prefixCls:i,className:s,rootClassName:l,steps:d,strokeColor:u,percent:f=0,size:y="default",showInfo:j=!0,type:n="line",status:C,format:E,style:k,percentPosition:D={}}=e,_=te(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:N="end",type:m="outer"}=D,g=Array.isArray(u)?u[0]:u,A=typeof u=="string"||Array.isArray(u)?u:void 0,M=t.useMemo(()=>{if(g){const o=typeof g=="string"?g:Object.values(g)[0];return new U.FastColor(o).isLight()}return!1},[u]),$=t.useMemo(()=>{var o,c;const v=O.getSuccessPercent(e);return parseInt(v!==void 0?(o=v??0)===null||o===void 0?void 0:o.toString():(c=f??0)===null||c===void 0?void 0:c.toString(),10)},[f,e.success,e.successPercent]),p=t.useMemo(()=>!oe.includes(C)&&$>=100?"success":C||"normal",[C,$]),{getPrefixCls:I,direction:w,progress:P}=t.useContext(re.ConfigContext),r=I("progress",i),[V,T,L]=ee.default(r),x=n==="line",b=x&&!d,h=t.useMemo(()=>{if(!j)return null;const o=O.getSuccessPercent(e);let c;const v=x&&M&&m==="inner";return m==="inner"||E||p!=="exception"&&p!=="success"?c=(E||(F=>`${F}%`))(O.validProgress(f),O.validProgress(o)):p==="exception"?c=x?t.createElement(H,null):t.createElement(J,null):p==="success"&&(c=x?t.createElement(B,null):t.createElement(G,null)),t.createElement("span",{className:S(`${r}-text`,{[`${r}-text-bright`]:v,[`${r}-text-${N}`]:b,[`${r}-text-${m}`]:b}),title:typeof c=="string"?c:void 0},c)},[j,f,$,p,n,r,E]);if(process.env.NODE_ENV!=="production"){const o=Q.devUseWarning("Progress");o.deprecated(!("successPercent"in e),"successPercent","success.percent"),o.deprecated(!("width"in e),"width","size"),n!=="circle"&&n!=="dashboard"||(Array.isArray(y)?process.env.NODE_ENV!=="production"&&o(!1,"usage",'Type "circle" and "dashboard" do not accept array as `size`, please use number or preset size instead.'):typeof y=="object"&&process.env.NODE_ENV!=="production"&&o(!1,"usage",'Type "circle" and "dashboard" do not accept object as `size`, please use number or preset size instead.')),e.success&&"progress"in e.success&&o.deprecated(!1,"success.progress","success.percent")}let q;n==="line"?q=d?t.createElement(Z,Object.assign({},e,{strokeColor:A,prefixCls:r,steps:typeof d=="object"?d.count:d}),h):t.createElement(Y.default,Object.assign({},e,{strokeColor:g,prefixCls:r,direction:w,percentPosition:{align:N,type:m}}),h):n!=="circle"&&n!=="dashboard"||(q=t.createElement(X,Object.assign({},e,{strokeColor:g,prefixCls:r,progressStatus:p}),h));const W=S(r,`${r}-status-${p}`,{[`${r}-${n==="dashboard"?"circle":n}`]:n!=="line",[`${r}-inline-circle`]:n==="circle"&&O.getSize(y,"circle")[0]<=20,[`${r}-line`]:b,[`${r}-line-align-${N}`]:b,[`${r}-line-position-${m}`]:b,[`${r}-steps`]:d,[`${r}-show-info`]:j,[`${r}-${y}`]:typeof y=="string",[`${r}-rtl`]:w==="rtl"},P==null?void 0:P.className,s,l,T,L);return V(t.createElement("div",Object.assign({ref:a,style:Object.assign(Object.assign({},P==null?void 0:P.style),k),className:W,role:"progressbar","aria-valuenow":$,"aria-valuemin":0,"aria-valuemax":100},K(_,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),q))});process.env.NODE_ENV!=="production"&&(z.displayName="Progress"),module.exports=z;
