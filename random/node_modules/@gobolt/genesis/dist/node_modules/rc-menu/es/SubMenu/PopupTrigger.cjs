"use strict";const V=require("../../../@babel/runtime/helpers/esm/defineProperty.cjs"),p=require("../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),w=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),W=require("react"),_=require("../../../@rc-component/trigger/es/index.cjs"),k=require("../../../../_virtual/index.cjs"),b=require("../../../rc-util/es/raf.cjs"),B=require("../context/MenuContext.cjs"),d=require("../placements.cjs"),U=require("../utils/motionUtil.cjs");function F(e){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const u=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>e[o]})}}return r.default=e,Object.freeze(r)}const n=F(W);var G={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};module.exports=function(e){var r=e.prefixCls,o=e.visible,u=e.children,g=e.popup,C=e.popupStyle,h=e.popupClassName,l=e.popupOffset,v=e.disabled,i=e.mode,q=e.onVisibleChange,t=n.useContext(B.MenuContext),y=t.getPopupContainer,a=t.rtl,M=t.subMenuOpenDelay,O=t.subMenuCloseDelay,P=t.builtinPlacements,S=t.triggerSubMenuAction,D=t.forceSubMenuRender,x=t.rootClassName,N=t.motion,R=t.defaultMotions,j=n.useState(!1),c=w(j,2),T=c[0],z=c[1],A=p(p({},a?d.placementsRtl:d.placements),P),E=G[i],s=U.getMotion(i,N,R),f=n.useRef(s);i!=="inline"&&(f.current=s);var L=p(p({},f.current),{},{leavedClassName:"".concat(r,"-hidden"),removeOnLeave:!1,motionAppear:!0}),m=n.useRef();return n.useEffect(function(){return m.current=b(function(){z(o)}),function(){b.cancel(m.current)}},[o]),n.createElement(_.default,{prefixCls:r,popupClassName:k("".concat(r,"-popup"),V({},"".concat(r,"-rtl"),a),h,x),stretch:i==="horizontal"?"minWidth":null,getPopupContainer:y,builtinPlacements:A,popupPlacement:E,popupVisible:T,popup:g,popupStyle:C,popupAlign:l&&{offset:l},action:v?[]:[S],mouseEnterDelay:M,mouseLeaveDelay:O,onPopupVisibleChange:q,forceRender:D,popupMotion:L,fresh:!0},u)};
