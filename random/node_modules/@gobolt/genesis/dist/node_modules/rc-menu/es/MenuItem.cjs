"use strict";const w=require("../../@babel/runtime/helpers/esm/defineProperty.cjs"),p=require("../../@babel/runtime/helpers/esm/objectSpread2.cjs"),Z=require("../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),h=require("../../@babel/runtime/helpers/esm/extends.cjs"),I=require("../../@babel/runtime/helpers/esm/objectWithoutProperties.cjs"),$=require("../../@babel/runtime/helpers/esm/classCallCheck.cjs"),ee=require("../../@babel/runtime/helpers/esm/createClass.cjs"),te=require("../../@babel/runtime/helpers/esm/inherits.cjs"),re=require("../../@babel/runtime/helpers/esm/createSuper.cjs"),ne=require("../../../_virtual/index.cjs"),ie=require("../../rc-overflow/es/Overflow.cjs"),oe=require("../../rc-util/es/KeyCode.cjs"),j=require("../../rc-util/es/omit.cjs"),ue=require("../../rc-util/es/ref.cjs"),L=require("../../rc-util/es/warning.cjs"),ae=require("react"),le=require("./context/IdContext.cjs"),ce=require("./context/MenuContext.cjs"),g=require("./context/PathContext.cjs"),se=require("./context/PrivateContext.cjs"),fe=require("./hooks/useActive.cjs"),de=require("./hooks/useDirectionStyle.cjs"),me=require("./Icon.cjs"),F=require("./utils/warnUtil.cjs");function pe(e){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,r.get?r:{enumerable:!0,get:()=>e[t]})}}return o.default=e,Object.freeze(o)}const i=pe(ae);var ve=["title","attribute","elementRef"],qe=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],ye=["active"],be=function(e){te(t,e);var o=re(t);function t(){return $(this,t),o.apply(this,arguments)}return ee(t,[{key:"render",value:function(){var r=this.props,n=r.title,s=r.attribute,l=r.elementRef,v=I(r,ve),q=j(v,["eventKey","popupClassName","popupOffset","onTitleClick"]);return L.warningOnce(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),i.createElement(ie.default.Item,h({},s,{title:typeof n=="string"?n:void 0},q,{ref:l}))}}]),t}(i.Component),we=i.forwardRef(function(e,o){var t=e.style,r=e.className,n=e.eventKey,s=e.warnKey,l=e.disabled,v=e.itemIcon,q=e.children,E=e.role,S=e.onMouseEnter,T=e.onMouseLeave,f=e.onClick,M=e.onKeyDown,C=e.onFocus,_=I(e,qe),K=le.useMenuId(n),a=i.useContext(ce.MenuContext),z=a.prefixCls,P=a.onItemClick,A=a.disabled,V=a.overflowDisabled,B=a.itemIcon,G=a.selectedKeys,H=a.onActive,R=i.useContext(se)._internalRenderMenuItem,d="".concat(z,"-item"),k=i.useRef(),J=i.useRef(),y=A||l,Q=ue.useComposeRef(o,J),O=g.useFullPath(n);process.env.NODE_ENV!=="production"&&s&&L.warningOnce(!1,"MenuItem should not leave undefined `key`.");var N=function(u){return{key:n,keyPath:Z(O).reverse(),item:k.current,domEvent:u}},U=v||B,x=fe(n,y,S,T),W=x.active,X=I(x,ye),m=G.includes(n),Y=de(O.length),D={};e.role==="option"&&(D["aria-selected"]=m);var b=i.createElement(be,h({ref:k,elementRef:Q,role:E===null?"none":E||"menuitem",tabIndex:l?null:-1,"data-menu-id":V&&K?null:K},j(_,["extra"]),X,D,{component:"li","aria-disabled":l,style:p(p({},Y),t),className:ne(d,w(w(w({},"".concat(d,"-active"),W),"".concat(d,"-selected"),m),"".concat(d,"-disabled"),y),r),onClick:function(u){if(!y){var c=N(u);f==null||f(F.warnItemProp(c)),P(c)}},onKeyDown:function(u){if(M==null||M(u),u.which===oe.ENTER){var c=N(u);f==null||f(F.warnItemProp(c)),P(c)}},onFocus:function(u){H(n),C==null||C(u)}}),q,i.createElement(me,{props:p(p({},e),{},{isSelected:m}),icon:U}));return R&&(b=R(b,e,{selected:m})),b});function Ie(e,o){var t=e.eventKey,r=g.useMeasure(),n=g.useFullPath(t);return i.useEffect(function(){if(r)return r.registerPath(t,n),function(){r.unregisterPath(t,n)}},[n]),r?null:i.createElement(we,h({},e,{ref:o}))}const ge=i.forwardRef(Ie);module.exports=ge;
