"use strict";const x=require("../../../@babel/runtime/helpers/esm/extends.cjs"),N=require("../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),S=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),E=require("react"),P=require("../../../rc-motion/es/CSSMotion.cjs");require("../../../rc-motion/es/CSSMotionList.cjs");const R=require("../utils/motionUtil.cjs"),v=require("../context/MenuContext.cjs"),k=require("./SubMenuList.cjs");function D(e){const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const c=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(u,t,c.get?c:{enumerable:!0,get:()=>e[t]})}}return u.default=e,Object.freeze(u)}const r=D(E);module.exports=function(e){var u=e.id,t=e.open,c=e.keyPath,b=e.children,l="inline",o=r.useContext(v.MenuContext),p=o.prefixCls,g=o.forceSubMenuRender,q=o.motion,h=o.defaultMotions,s=o.mode,n=r.useRef(!1);n.current=s===l;var y=r.useState(!n.current),f=S(y,2),C=f[0],d=f[1],O=!!n.current&&t;r.useEffect(function(){n.current&&d(!1)},[s]);var a=N({},R.getMotion(l,q,h));c.length>1&&(a.motionAppear=!1);var m=a.onVisibleChanged;return a.onVisibleChanged=function(i){return n.current||i||d(!0),m==null?void 0:m(i)},C?null:r.createElement(v.default,{mode:l,locked:!n.current},r.createElement(P.default,x({visible:O},a,{forceRender:g,removeOnLeave:!1,leavedClassName:"".concat(p,"-hidden")}),function(i){var M=i.className,j=i.style;return r.createElement(k,{id:u,className:M,style:j},b)}))};
