import a from "../../../@babel/runtime/helpers/esm/slicedToArray.js";
import i from "../../../rc-util/es/hooks/useEvent.js";
import * as e from "react";
import { unstable_batchedUpdates as s } from "react-dom";
import m from "./channelUpdate.js";
function b() {
  var t = e.useRef(null);
  return function(r) {
    t.current || (t.current = [], m(function() {
      s(function() {
        t.current.forEach(function(n) {
          n();
        }), t.current = null;
      });
    })), t.current.push(r);
  };
}
function v(t, r) {
  var n = e.useState(r), u = a(n, 2), o = u[0], f = u[1];
  return [o, i(function(c) {
    t(function() {
      f(c);
    });
  })];
}
export {
  v as default,
  b as useBatcher
};
