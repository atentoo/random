"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const O=require("../../../@babel/runtime/helpers/esm/extends.cjs"),P=require("../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),L=require("../../../@babel/runtime/helpers/esm/defineProperty.cjs"),S=require("../../../../_virtual/index.cjs"),U=require("react"),A=require("../Cell/index.cjs"),G=require("../context/TableContext.cjs"),R=require("../hooks/useRenderTimes.cjs"),H=require("../hooks/useRowInfo.cjs"),J=require("./ExpandedRow.cjs"),Q=require("../utils/expandUtil.cjs");function W(e){const d=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(d,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return d.default=e,Object.freeze(d)}const t=W(U);function _(e,d,n,r,s){var x,u,m=e.record,o=e.prefixCls,f=e.columnsKey,C=e.fixedInfoList,w=e.expandIconColumnIndex,a=e.nestExpandable,c=e.indentSize,N=e.expandIcon,E=e.expanded,g=e.hasNestChildren,p=e.onTriggerExpand,i=f[n],v=C[n];return n===(w||0)&&a&&(x=t.createElement(t.Fragment,null,t.createElement("span",{style:{paddingLeft:"".concat(c*r,"px")},className:"".concat(o,"-row-indent indent-level-").concat(r)}),N({prefixCls:o,expanded:E,expandable:g,record:m,onExpand:p}))),d.onCell&&(u=d.onCell(m,s)),{key:i,fixedInfo:v,appendCellNode:x,additionalCellProps:u||{}}}function h(e){process.env.NODE_ENV!=="production"&&R.default(e);var d=e.className,n=e.style,r=e.record,s=e.index,x=e.renderIndex,u=e.rowKey,m=e.indent,o=m===void 0?0:m,f=e.rowComponent,C=e.cellComponent,w=e.scopeCellComponent,a=H(r,u,s,o),c=a.prefixCls,N=a.flattenColumns,E=a.expandedRowClassName,g=a.expandedRowRender,p=a.rowProps,i=a.expanded,v=a.rowSupportExpand,b=t.useRef(!1);b.current||(b.current=i),process.env.NODE_ENV!=="production"&&R.default(e);var q,I=Q.computedExpandedClassName(E,r,s,o),j=t.createElement(f,O({},p,{"data-row-key":u,className:S(d,"".concat(c,"-row"),"".concat(c,"-row-level-").concat(o),p==null?void 0:p.className,L({},I,o>=1)),style:P(P({},n),p==null?void 0:p.style)}),N.map(function(l,D){var M=l.render,T=l.dataIndex,V=l.className,y=_(a,l,D,o,s),z=y.key,B=y.fixedInfo,F=y.appendCellNode,K=y.additionalCellProps;return t.createElement(A,O({className:V,ellipsis:l.ellipsis,align:l.align,scope:l.rowScope,component:l.rowScope?w:C,prefixCls:c,key:z,record:r,index:s,renderIndex:x,dataIndex:T,render:M,shouldCellUpdate:l.shouldCellUpdate},B,{appendNode:F,additionalProps:K}))}));if(v&&(b.current||i)){var k=g(r,s,o+1,i);q=t.createElement(J,{expanded:i,className:S("".concat(c,"-expanded-row"),"".concat(c,"-expanded-row-level-").concat(o+1),I),prefixCls:c,component:f,cellComponent:C,colSpan:N.length,isEmpty:!1},k)}return t.createElement(t.Fragment,null,j,q)}process.env.NODE_ENV!=="production"&&(h.displayName="BodyRow");const X=G.responseImmutable(h);exports.default=X,exports.getCellProps=_;
