import w from "../../../../@babel/runtime/helpers/esm/objectSpread2.js";
import * as M from "react";
function v(a) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
  return typeof t == "number" ? t : t.endsWith("%") ? a * parseFloat(t) / 100 : null;
}
function x(a, t, m) {
  return M.useMemo(function() {
    if (t && t > 0) {
      var s = 0, f = 0;
      a.forEach(function(n) {
        var r = v(t, n.width);
        r ? s += r : f += 1;
      });
      var u = Math.max(t, m), o = Math.max(u - s, f), d = f, c = o / f, e = 0, h = a.map(function(n) {
        var r = w({}, n), i = v(t, r.width);
        if (i) r.width = i;
        else {
          var l = Math.floor(c);
          r.width = d === 1 ? o : l, o -= l, d -= 1;
        }
        return e += r.width, r;
      });
      if (e < u) {
        var p = u / e;
        o = u, h.forEach(function(n, r) {
          var i = Math.floor(n.width * p);
          n.width = r === h.length - 1 ? o : i, o -= i;
        });
      }
      return [h, Math.max(e, u)];
    }
    return [a, t];
  }, [a, t, m]);
}
export {
  x as default
};
