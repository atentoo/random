import d from "../../../@babel/runtime/helpers/esm/slicedToArray.js";
import h from "../../../@babel/runtime/helpers/esm/typeof.js";
import y from "../../../rc-util/es/hooks/useMemo.js";
import A from "../../../rc-util/es/isEqual.js";
import C from "../../../rc-util/es/utils/get.js";
import { warningOnce as E } from "../../../rc-util/es/warning.js";
import * as c from "react";
import V from "../context/PerfContext.js";
import { validateValue as b } from "../utils/valueUtil.js";
import { useImmutableMark as w } from "../context/TableContext.js";
function M(m, e, p, s, u, a) {
  var l = c.useContext(V), v = w();
  return y(function() {
    if (b(s)) return [s];
    var r, t = e == null || e === "" ? [] : Array.isArray(e) ? e : [e], i = C(m, t), o = i, f = void 0;
    if (u) {
      var n = u(i, m, p);
      !(r = n) || h(r) !== "object" || Array.isArray(r) || c.isValidElement(r) ? o = n : (process.env.NODE_ENV !== "production" && E(!1, "`columns.render` return cell props is deprecated with perf issue, please use `onCell` instead."), o = n.children, f = n.props, l.renderWithProps = !0);
    }
    return [o, f];
  }, [v, m, s, e, u, p], function(r, t) {
    if (a) {
      var i = d(r, 2)[1], o = d(t, 2)[1];
      return a(o, i);
    }
    return !!l.renderWithProps || !A(r, t, !0);
  });
}
export {
  M as default
};
