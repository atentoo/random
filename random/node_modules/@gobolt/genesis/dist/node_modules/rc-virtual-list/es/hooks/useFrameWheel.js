import u from "../../../rc-util/es/raf.js";
import { useRef as n } from "react";
import y from "../utils/isFirefox.js";
import Y from "./useOriginScroll.js";
function w(v, b, D, H, M, _, m) {
  var c = n(0), s = n(null), d = n(null), p = n(!1), F = Y(b, D, H, M), r = n(null), h = n(null);
  return [function(t) {
    if (v) {
      u.cancel(h.current), h.current = u(function() {
        r.current = null;
      }, 2);
      var x = t.deltaX, l = t.deltaY, K = t.shiftKey, a = x, f = l;
      (r.current === "sx" || !r.current && K && l && !x) && (a = l, f = 0, r.current = "sx");
      var R = Math.abs(a), W = Math.abs(f);
      r.current === null && (r.current = _ && R > W ? "x" : "y"), r.current === "y" ? function(i, e) {
        if (u.cancel(s.current), !F(!1, e)) {
          var o = i;
          o._virtualHandled || (o._virtualHandled = !0, c.current += e, d.current = e, y || o.preventDefault(), s.current = u(function() {
            var X = p.current ? 10 : 1;
            m(c.current * X, !1), c.current = 0;
          }));
        }
      }(t, f) : function(i, e) {
        m(e, !0), y || i.preventDefault();
      }(t, a);
    }
  }, function(t) {
    v && (p.current = t.detail === d.current);
  }];
}
export {
  w as default
};
