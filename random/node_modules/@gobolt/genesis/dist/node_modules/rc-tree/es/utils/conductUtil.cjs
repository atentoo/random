"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const O=require("../../../rc-util/es/warning.cjs"),q=require("./keyUtil.cjs");function j(p,y){var k=new Set;return p.forEach(function(S){y.has(S)||k.add(S)}),k}function M(p){var y=p||{},k=y.disabled,S=y.disableCheckbox,g=y.checkable;return!(!k&&!S)||g===!1}exports.conductCheck=function(p,y,k,S){var g,C=[];g=S||M;var K=new Set(p.filter(function(f){var i=!!q(k,f);return i||C.push(f),i})),E=new Map,b=0;return Object.keys(k).forEach(function(f){var i=k[f],s=i.level,n=E.get(s);n||(n=new Set,E.set(s,n)),n.add(i),b=Math.max(b,s)}),O.warningOnce(!C.length,"Tree missing follow keys: ".concat(C.slice(0,100).map(function(f){return"'".concat(f,"'")}).join(", "))),y===!0?function(f,i,s,n){for(var a=new Set(f),d=new Set,l=0;l<=s;l+=1)(i.get(l)||new Set).forEach(function(r){var e=r.key,o=r.node,h=r.children,c=h===void 0?[]:h;a.has(e)&&!n(o)&&c.filter(function(t){return!n(t.node)}).forEach(function(t){a.add(t.key)})});for(var v=new Set,w=s;w>=0;w-=1)(i.get(w)||new Set).forEach(function(r){var e=r.parent,o=r.node;if(!n(o)&&r.parent&&!v.has(r.parent.key))if(n(r.parent.node))v.add(e.key);else{var h=!0,c=!1;(e.children||[]).filter(function(t){return!n(t.node)}).forEach(function(t){var u=t.key,m=a.has(u);h&&!m&&(h=!1),c||!m&&!d.has(u)||(c=!0)}),h&&a.add(e.key),c&&d.add(e.key),v.add(e.key)}});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(j(d,a))}}(K,E,b,g):function(f,i,s,n,a){for(var d=new Set(f),l=new Set(i),v=0;v<=n;v+=1)(s.get(v)||new Set).forEach(function(e){var o=e.key,h=e.node,c=e.children,t=c===void 0?[]:c;d.has(o)||l.has(o)||a(h)||t.filter(function(u){return!a(u.node)}).forEach(function(u){d.delete(u.key)})});l=new Set;for(var w=new Set,r=n;r>=0;r-=1)(s.get(r)||new Set).forEach(function(e){var o=e.parent,h=e.node;if(!a(h)&&e.parent&&!w.has(e.parent.key))if(a(e.parent.node))w.add(o.key);else{var c=!0,t=!1;(o.children||[]).filter(function(u){return!a(u.node)}).forEach(function(u){var m=u.key,A=d.has(m);c&&!A&&(c=!1),t||!A&&!l.has(m)||(t=!0)}),c||d.delete(o.key),t&&l.add(o.key),w.add(o.key)}});return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(j(l,d))}}(K,y.halfCheckedKeys,E,b,g)},exports.isCheckDisabled=M;
