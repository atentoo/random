"use strict";const se=require("../../@babel/runtime/helpers/esm/extends.cjs"),le=require("../../@babel/runtime/helpers/esm/typeof.cjs"),O=require("../../@babel/runtime/helpers/esm/objectSpread2.cjs"),H=require("../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),ie=require("../../@babel/runtime/helpers/esm/classCallCheck.cjs"),ce=require("../../@babel/runtime/helpers/esm/createClass.cjs"),u=require("../../@babel/runtime/helpers/esm/assertThisInitialized.cjs"),ue=require("../../@babel/runtime/helpers/esm/inherits.cjs"),pe=require("../../@babel/runtime/helpers/esm/createSuper.cjs"),l=require("../../@babel/runtime/helpers/esm/defineProperty.cjs"),ye=require("../../../_virtual/index.cjs"),R=require("../../rc-util/es/KeyCode.cjs"),ve=require("../../rc-util/es/pickAttrs.cjs"),j=require("../../rc-util/es/warning.cjs"),ge=require("react"),fe=require("./contextTypes.cjs"),he=require("./DropIndicator.cjs"),F=require("./NodeList.cjs"),Ke=require("./TreeNode.cjs"),N=require("./util.cjs"),B=require("./utils/conductUtil.cjs"),I=require("./utils/keyUtil.cjs"),E=require("./utils/treeUtil.cjs");function Ne(b){const M=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(b){for(const w in b)if(w!=="default"){const e=Object.getOwnPropertyDescriptor(b,w);Object.defineProperty(M,w,e.get?e:{enumerable:!0,get:()=>b[w]})}}return M.default=b,Object.freeze(M)}const W=Ne(ge);var _=function(b){ue(w,b);var M=pe(w);function w(){var e;ie(this,w);for(var h=arguments.length,P=new Array(h),C=0;C<h;C++)P[C]=arguments[C];return e=M.call.apply(M,[this].concat(P)),l(u(e),"destroyed",!1),l(u(e),"delayedDragEnterLogic",void 0),l(u(e),"loadingRetryTimes",{}),l(u(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:E.fillFieldNames()}),l(u(e),"dragStartMousePosition",null),l(u(e),"dragNodeProps",null),l(u(e),"currentMouseOverDroppableNodeKey",null),l(u(e),"listRef",W.createRef()),l(u(e),"onNodeDragStart",function(t,o){var n=e.state,r=n.expandedKeys,d=n.keyEntities,i=e.props.onDragStart,s=o.eventKey;e.dragNodeProps=o,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var y=N.arrDel(r,s);e.setState({draggingNodeKey:s,dragChildrenKeys:N.getDragChildrenKeys(s,d),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(y),window.addEventListener("dragend",e.onWindowDragEnd),i==null||i({event:t,node:E.convertNodePropsToEventData(o)})}),l(u(e),"onNodeDragEnter",function(t,o){var n=e.state,r=n.expandedKeys,d=n.keyEntities,i=n.dragChildrenKeys,s=n.flattenNodes,y=n.indent,f=e.props,a=f.onDragEnter,c=f.onExpand,K=f.allowDrop,p=f.direction,v=o.pos,k=o.eventKey;if(e.currentMouseOverDroppableNodeKey!==k&&(e.currentMouseOverDroppableNodeKey=k),e.dragNodeProps){var g=N.calcDropPosition(t,e.dragNodeProps,o,y,e.dragStartMousePosition,K,s,d,r,p),D=g.dropPosition,x=g.dropLevelOffset,m=g.dropTargetKey,T=g.dropContainerKey,A=g.dropTargetPos,S=g.dropAllowed,q=g.dragOverNodeKey;!i.includes(m)&&S?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(L){clearTimeout(e.delayedDragEnterLogic[L])}),e.dragNodeProps.eventKey!==o.eventKey&&(t.persist(),e.delayedDragEnterLogic[v]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var L=H(r),U=I(d,o.eventKey);U&&(U.children||[]).length&&(L=N.arrAdd(r,o.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(L),c==null||c(L,{node:E.convertNodePropsToEventData(o),expanded:!0,nativeEvent:t.nativeEvent})}},800)),e.dragNodeProps.eventKey!==m||x!==0?(e.setState({dragOverNodeKey:q,dropPosition:D,dropLevelOffset:x,dropTargetKey:m,dropContainerKey:T,dropTargetPos:A,dropAllowed:S}),a==null||a({event:t,node:E.convertNodePropsToEventData(o),expandedKeys:r})):e.resetDragState()):e.resetDragState()}else e.resetDragState()}),l(u(e),"onNodeDragOver",function(t,o){var n=e.state,r=n.dragChildrenKeys,d=n.flattenNodes,i=n.keyEntities,s=n.expandedKeys,y=n.indent,f=e.props,a=f.onDragOver,c=f.allowDrop,K=f.direction;if(e.dragNodeProps){var p=N.calcDropPosition(t,e.dragNodeProps,o,y,e.dragStartMousePosition,c,d,i,s,K),v=p.dropPosition,k=p.dropLevelOffset,g=p.dropTargetKey,D=p.dropContainerKey,x=p.dropTargetPos,m=p.dropAllowed,T=p.dragOverNodeKey;!r.includes(g)&&m&&(e.dragNodeProps.eventKey===g&&k===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():v===e.state.dropPosition&&k===e.state.dropLevelOffset&&g===e.state.dropTargetKey&&D===e.state.dropContainerKey&&x===e.state.dropTargetPos&&m===e.state.dropAllowed&&T===e.state.dragOverNodeKey||e.setState({dropPosition:v,dropLevelOffset:k,dropTargetKey:g,dropContainerKey:D,dropTargetPos:x,dropAllowed:m,dragOverNodeKey:T}),a==null||a({event:t,node:E.convertNodePropsToEventData(o)}))}}),l(u(e),"onNodeDragLeave",function(t,o){e.currentMouseOverDroppableNodeKey!==o.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var n=e.props.onDragLeave;n==null||n({event:t,node:E.convertNodePropsToEventData(o)})}),l(u(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),l(u(e),"onNodeDragEnd",function(t,o){var n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n==null||n({event:t,node:E.convertNodePropsToEventData(o)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),l(u(e),"onNodeDrop",function(t,o){var n,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],d=e.state,i=d.dragChildrenKeys,s=d.dropPosition,y=d.dropTargetKey,f=d.dropTargetPos;if(d.dropAllowed){var a=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),y!==null){var c=O(O({},E.getTreeNodeProps(y,e.getTreeNodeRequiredProps())),{},{active:((n=e.getActiveItem())===null||n===void 0?void 0:n.key)===y,data:I(e.state.keyEntities,y).node}),K=i.includes(y);j.warningOnce(!K,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=N.posToArr(f),v={event:t,node:E.convertNodePropsToEventData(c),dragNode:e.dragNodeProps?E.convertNodePropsToEventData(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(i),dropToGap:s!==0,dropPosition:s+Number(p[p.length-1])};r||a==null||a(v),e.dragNodeProps=null}}}),l(u(e),"cleanDragState",function(){e.state.draggingNodeKey!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),l(u(e),"triggerExpandActionExpand",function(t,o){var n=e.state,r=n.expandedKeys,d=n.flattenNodes,i=o.expanded,s=o.key;if(!(o.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var y=d.filter(function(a){return a.key===s})[0],f=E.convertNodePropsToEventData(O(O({},E.getTreeNodeProps(s,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(i?N.arrDel(r,s):N.arrAdd(r,s)),e.onNodeExpand(t,f)}}),l(u(e),"onNodeClick",function(t,o){var n=e.props,r=n.onClick;n.expandAction==="click"&&e.triggerExpandActionExpand(t,o),r==null||r(t,o)}),l(u(e),"onNodeDoubleClick",function(t,o){var n=e.props,r=n.onDoubleClick;n.expandAction==="doubleClick"&&e.triggerExpandActionExpand(t,o),r==null||r(t,o)}),l(u(e),"onNodeSelect",function(t,o){var n=e.state.selectedKeys,r=e.state,d=r.keyEntities,i=r.fieldNames,s=e.props,y=s.onSelect,f=s.multiple,a=o.selected,c=o[i.key],K=!a,p=(n=K?f?N.arrAdd(n,c):[c]:N.arrDel(n,c)).map(function(v){var k=I(d,v);return k?k.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:n}),y==null||y(n,{event:"select",selected:K,node:o,selectedNodes:p,nativeEvent:t.nativeEvent})}),l(u(e),"onNodeCheck",function(t,o,n){var r,d=e.state,i=d.keyEntities,s=d.checkedKeys,y=d.halfCheckedKeys,f=e.props,a=f.checkStrictly,c=f.onCheck,K=o.key,p={event:"check",node:o,checked:n,nativeEvent:t.nativeEvent};if(a){var v=n?N.arrAdd(s,K):N.arrDel(s,K);r={checked:v,halfChecked:N.arrDel(y,K)},p.checkedNodes=v.map(function(T){return I(i,T)}).filter(Boolean).map(function(T){return T.node}),e.setUncontrolledState({checkedKeys:v})}else{var k=B.conductCheck([].concat(H(s),[K]),!0,i),g=k.checkedKeys,D=k.halfCheckedKeys;if(!n){var x=new Set(g);x.delete(K);var m=B.conductCheck(Array.from(x),{halfCheckedKeys:D},i);g=m.checkedKeys,D=m.halfCheckedKeys}r=g,p.checkedNodes=[],p.checkedNodesPositions=[],p.halfCheckedKeys=D,g.forEach(function(T){var A=I(i,T);if(A){var S=A.node,q=A.pos;p.checkedNodes.push(S),p.checkedNodesPositions.push({node:S,pos:q})}}),e.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:D})}c==null||c(r,p)}),l(u(e),"onNodeLoad",function(t){var o,n=t.key,r=e.state.keyEntities,d=I(r,n);if(d==null||(o=d.children)===null||o===void 0||!o.length){var i=new Promise(function(s,y){e.setState(function(f){var a=f.loadedKeys,c=a===void 0?[]:a,K=f.loadingKeys,p=K===void 0?[]:K,v=e.props,k=v.loadData,g=v.onLoad;return!k||c.includes(n)||p.includes(n)?null:(k(t).then(function(){var D=e.state.loadedKeys,x=N.arrAdd(D,n);g==null||g(x,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:x}),e.setState(function(m){return{loadingKeys:N.arrDel(m.loadingKeys,n)}}),s()}).catch(function(D){if(e.setState(function(m){return{loadingKeys:N.arrDel(m.loadingKeys,n)}}),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var x=e.state.loadedKeys;j.warningOnce(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:N.arrAdd(x,n)}),s()}y(D)}),{loadingKeys:N.arrAdd(p,n)})})});return i.catch(function(){}),i}}),l(u(e),"onNodeMouseEnter",function(t,o){var n=e.props.onMouseEnter;n==null||n({event:t,node:o})}),l(u(e),"onNodeMouseLeave",function(t,o){var n=e.props.onMouseLeave;n==null||n({event:t,node:o})}),l(u(e),"onNodeContextMenu",function(t,o){var n=e.props.onRightClick;n&&(t.preventDefault(),n({event:t,node:o}))}),l(u(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];t==null||t.apply(void 0,n)}),l(u(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];t==null||t.apply(void 0,n)}),l(u(e),"getTreeNodeRequiredProps",function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}}),l(u(e),"setExpandedKeys",function(t){var o=e.state,n=o.treeData,r=o.fieldNames,d=E.flattenTreeData(n,t,r);e.setUncontrolledState({expandedKeys:t,flattenNodes:d},!0)}),l(u(e),"onNodeExpand",function(t,o){var n=e.state.expandedKeys,r=e.state,d=r.listChanging,i=r.fieldNames,s=e.props,y=s.onExpand,f=s.loadData,a=o.expanded,c=o[i.key];if(!d){var K=n.includes(c),p=!a;if(j.warningOnce(a&&K||!a&&!K,"Expand state not sync with index check"),n=p?N.arrAdd(n,c):N.arrDel(n,c),e.setExpandedKeys(n),y==null||y(n,{node:o,expanded:p,nativeEvent:t.nativeEvent}),p&&f){var v=e.onNodeLoad(o);v&&v.then(function(){var k=E.flattenTreeData(e.state.treeData,n,i);e.setUncontrolledState({flattenNodes:k})}).catch(function(){var k=e.state.expandedKeys,g=N.arrDel(k,c);e.setExpandedKeys(g)})}}}),l(u(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),l(u(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),l(u(e),"onActiveChange",function(t){var o=e.state.activeKey,n=e.props,r=n.onActiveChange,d=n.itemScrollOffset,i=d===void 0?0:d;o!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:i}),r==null||r(t))}),l(u(e),"getActiveItem",function(){var t=e.state,o=t.activeKey,n=t.flattenNodes;return o===null?null:n.find(function(r){return r.key===o})||null}),l(u(e),"offsetActiveKey",function(t){var o=e.state,n=o.flattenNodes,r=o.activeKey,d=n.findIndex(function(y){return y.key===r});d===-1&&t<0&&(d=n.length);var i=n[d=(d+t+n.length)%n.length];if(i){var s=i.key;e.onActiveChange(s)}else e.onActiveChange(null)}),l(u(e),"onKeyDown",function(t){var o=e.state,n=o.activeKey,r=o.expandedKeys,d=o.checkedKeys,i=o.fieldNames,s=e.props,y=s.onKeyDown,f=s.checkable,a=s.selectable;switch(t.which){case R.UP:e.offsetActiveKey(-1),t.preventDefault();break;case R.DOWN:e.offsetActiveKey(1),t.preventDefault()}var c=e.getActiveItem();if(c&&c.data){var K=e.getTreeNodeRequiredProps(),p=c.data.isLeaf===!1||!!(c.data[i.children]||[]).length,v=E.convertNodePropsToEventData(O(O({},E.getTreeNodeProps(n,K)),{},{data:c.data,active:!0}));switch(t.which){case R.LEFT:p&&r.includes(n)?e.onNodeExpand({},v):c.parent&&e.onActiveChange(c.parent.key),t.preventDefault();break;case R.RIGHT:p&&!r.includes(n)?e.onNodeExpand({},v):c.children&&c.children.length&&e.onActiveChange(c.children[0].key),t.preventDefault();break;case R.ENTER:case R.SPACE:!f||v.disabled||v.checkable===!1||v.disableCheckbox?f||!a||v.disabled||v.selectable===!1||e.onNodeSelect({},v):e.onNodeCheck({},v,!d.includes(n))}}y==null||y(t)}),l(u(e),"setUncontrolledState",function(t){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var r=!1,d=!0,i={};Object.keys(t).forEach(function(s){e.props.hasOwnProperty(s)?d=!1:(r=!0,i[s]=t[s])}),!r||o&&!d||e.setState(O(O({},i),n))}}),l(u(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return ce(w,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,h=e.activeKey,P=e.itemScrollOffset,C=P===void 0?0:P;h!==void 0&&h!==this.state.activeKey&&(this.setState({activeKey:h}),h!==null&&this.scrollTo({key:h,offset:C}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,h=this.state,P=h.focused,C=h.flattenNodes,t=h.keyEntities,o=h.draggingNodeKey,n=h.activeKey,r=h.dropLevelOffset,d=h.dropContainerKey,i=h.dropTargetKey,s=h.dropPosition,y=h.dragOverNodeKey,f=h.indent,a=this.props,c=a.prefixCls,K=a.className,p=a.style,v=a.showLine,k=a.focusable,g=a.tabIndex,D=g===void 0?0:g,x=a.selectable,m=a.showIcon,T=a.icon,A=a.switcherIcon,S=a.draggable,q=a.checkable,L=a.checkStrictly,U=a.disabled,Y=a.motion,G=a.loadData,z=a.filterTreeNode,V=a.height,X=a.itemHeight,J=a.scrollWidth,Q=a.virtual,Z=a.titleRender,$=a.dropIndicatorRender,ee=a.onContextMenu,te=a.onScroll,ne=a.direction,oe=a.rootClassName,re=a.rootStyle,ae=ve(this.props,{aria:!0,data:!0});S&&(e=le(S)==="object"?S:typeof S=="function"?{nodeDraggable:S}:{});var de={prefixCls:c,selectable:x,showIcon:m,icon:T,switcherIcon:A,draggable:e,draggingNodeKey:o,checkable:q,checkStrictly:L,disabled:U,keyEntities:t,dropLevelOffset:r,dropContainerKey:d,dropTargetKey:i,dropPosition:s,dragOverNodeKey:y,indent:f,direction:ne,dropIndicatorRender:$,loadData:G,filterTreeNode:z,titleRender:Z,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return W.createElement(fe.TreeContext.Provider,{value:de},W.createElement("div",{className:ye(c,K,oe,l(l(l({},"".concat(c,"-show-line"),v),"".concat(c,"-focused"),P),"".concat(c,"-active-focused"),n!==null)),style:re},W.createElement(F.default,se({ref:this.listRef,prefixCls:c,style:p,data:C,disabled:U,selectable:x,checkable:!!q,motion:Y,dragging:o!==null,height:V,itemHeight:X,virtual:Q,focusable:k,focused:P,tabIndex:D,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ee,onScroll:te,scrollWidth:J},this.getTreeNodeRequiredProps(),ae))))}}],[{key:"getDerivedStateFromProps",value:function(e,h){var P,C=h.prevProps,t={prevProps:e};function o(g){return!C&&e.hasOwnProperty(g)||C&&C[g]!==e[g]}var n=h.fieldNames;if(o("fieldNames")&&(n=E.fillFieldNames(e.fieldNames),t.fieldNames=n),o("treeData")?P=e.treeData:o("children")&&(j.warningOnce(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),P=E.convertTreeToData(e.children)),P){t.treeData=P;var r=E.convertDataToEntities(P,{fieldNames:n});t.keyEntities=O(l({},F.MOTION_KEY,F.MotionEntity),r.keyEntities),process.env.NODE_ENV!=="production"&&E.warningWithoutKey(P,n)}var d,i=t.keyEntities||h.keyEntities;if(o("expandedKeys")||C&&o("autoExpandParent"))t.expandedKeys=e.autoExpandParent||!C&&e.defaultExpandParent?N.conductExpandParent(e.expandedKeys,i):e.expandedKeys;else if(!C&&e.defaultExpandAll){var s=O({},i);delete s[F.MOTION_KEY];var y=[];Object.keys(s).forEach(function(g){var D=s[g];D.children&&D.children.length&&y.push(D.key)}),t.expandedKeys=y}else!C&&e.defaultExpandedKeys&&(t.expandedKeys=e.autoExpandParent||e.defaultExpandParent?N.conductExpandParent(e.defaultExpandedKeys,i):e.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,P||t.expandedKeys){var f=E.flattenTreeData(P||h.treeData,t.expandedKeys||h.expandedKeys,n);t.flattenNodes=f}if(e.selectable&&(o("selectedKeys")?t.selectedKeys=N.calcSelectedKeys(e.selectedKeys,e):!C&&e.defaultSelectedKeys&&(t.selectedKeys=N.calcSelectedKeys(e.defaultSelectedKeys,e))),e.checkable&&(o("checkedKeys")?d=N.parseCheckedKeys(e.checkedKeys)||{}:!C&&e.defaultCheckedKeys?d=N.parseCheckedKeys(e.defaultCheckedKeys)||{}:P&&(d=N.parseCheckedKeys(e.checkedKeys)||{checkedKeys:h.checkedKeys,halfCheckedKeys:h.halfCheckedKeys}),d)){var a=d,c=a.checkedKeys,K=c===void 0?[]:c,p=a.halfCheckedKeys,v=p===void 0?[]:p;if(!e.checkStrictly){var k=B.conductCheck(K,!0,i);K=k.checkedKeys,v=k.halfCheckedKeys}t.checkedKeys=K,t.halfCheckedKeys=v}return o("loadedKeys")&&(t.loadedKeys=e.loadedKeys),t}}]),w}(W.Component);l(_,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:he,allowDrop:function(){return!0},expandAction:!1}),l(_,"TreeNode",Ke),module.exports=_;
