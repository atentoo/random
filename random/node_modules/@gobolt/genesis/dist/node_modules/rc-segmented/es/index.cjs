"use strict";const A=require("../../@babel/runtime/helpers/esm/extends.cjs"),N=require("../../@babel/runtime/helpers/esm/slicedToArray.cjs"),ie=require("../../@babel/runtime/helpers/esm/objectWithoutProperties.cjs"),d=require("../../@babel/runtime/helpers/esm/defineProperty.cjs"),B=require("../../@babel/runtime/helpers/esm/objectSpread2.cjs"),F=require("../../@babel/runtime/helpers/esm/typeof.cjs"),S=require("../../../_virtual/index.cjs"),re=require("../../rc-util/es/hooks/useMergedState.cjs"),ce=require("../../rc-util/es/omit.cjs"),ue=require("../../rc-util/es/ref.cjs"),se=require("react"),de=require("./MotionThumb.cjs");function fe(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const i in e)if(i!=="default"){const t=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,t.get?t:{enumerable:!0,get:()=>e[i]})}}return n.default=e,Object.freeze(n)}const a=fe(se);var me=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function ve(e){return e.map(function(n){if(F(n)==="object"&&n!==null){var i=function(t){return t.title!==void 0?t.title:F(t.label)!=="object"?(c=t.label)===null||c===void 0?void 0:c.toString():void 0;var c}(n);return B(B({},n),{},{title:i})}return{label:n==null?void 0:n.toString(),title:n==null?void 0:n.toString(),value:n}})}var pe=function(e){var n=e.prefixCls,i=e.className,t=e.disabled,c=e.checked,l=e.label,v=e.title,p=e.value,b=e.name,g=e.onChange,f=e.onFocus,w=e.onBlur,y=e.onKeyDown,q=e.onKeyUp,u=e.onMouseDown;return a.createElement("label",{className:S(i,d({},"".concat(n,"-item-disabled"),t)),onMouseDown:u},a.createElement("input",{name:b,className:"".concat(n,"-item-input"),type:"radio",disabled:t,checked:c,onChange:function(h){t||g(h,p)},onFocus:f,onBlur:w,onKeyDown:y,onKeyUp:q}),a.createElement("div",{className:"".concat(n,"-item-label"),title:v,"aria-selected":c},l))},z=a.forwardRef(function(e,n){var i,t,c=e.prefixCls,l=c===void 0?"rc-segmented":c,v=e.direction,p=e.vertical,b=e.options,g=b===void 0?[]:b,f=e.disabled,w=e.defaultValue,y=e.value,q=e.name,u=e.onChange,h=e.className,P=h===void 0?"":h,x=e.motionName,T=x===void 0?"thumb-motion":x,_=ie(e,me),D=a.useRef(null),L=a.useMemo(function(){return ue.composeRef(D,n)},[D,n]),s=a.useMemo(function(){return ve(g)},[g]),G=re((i=s[0])===null||i===void 0?void 0:i.value,{value:y,defaultValue:w}),E=N(G,2),m=E[0],M=E[1],H=a.useState(!1),O=N(H,2),J=O[0],K=O[1],Q=function(o,r){M(r),u==null||u(r)},W=ce(_,["children"]),X=a.useState(!1),k=N(X,2),Y=k[0],j=k[1],Z=a.useState(!1),I=N(Z,2),$=I[0],R=I[1],ee=function(){R(!0)},ne=function(){R(!1)},te=function(){j(!1)},oe=function(o){o.key==="Tab"&&j(!0)},U=function(o){var r=s.findIndex(function(le){return le.value===m}),V=s.length,C=s[(r+o+V)%V];C&&(M(C.value),u==null||u(C.value))},ae=function(o){switch(o.key){case"ArrowLeft":case"ArrowUp":U(-1);break;case"ArrowRight":case"ArrowDown":U(1)}};return a.createElement("div",A({role:"radiogroup","aria-label":"segmented control",tabIndex:f?void 0:0},W,{className:S(l,(t={},d(t,"".concat(l,"-rtl"),v==="rtl"),d(t,"".concat(l,"-disabled"),f),d(t,"".concat(l,"-vertical"),p),t),P),ref:L}),a.createElement("div",{className:"".concat(l,"-group")},a.createElement(de,{vertical:p,prefixCls:l,value:m,containerRef:D,motionName:"".concat(l,"-").concat(T),direction:v,getValueIndex:function(o){return s.findIndex(function(r){return r.value===o})},onMotionStart:function(){K(!0)},onMotionEnd:function(){K(!1)}}),s.map(function(o){var r;return a.createElement(pe,A({},o,{name:q,key:o.value,prefixCls:l,className:S(o.className,"".concat(l,"-item"),(r={},d(r,"".concat(l,"-item-selected"),o.value===m&&!J),d(r,"".concat(l,"-item-focused"),$&&Y&&o.value===m),r)),checked:o.value===m,onChange:Q,onFocus:ee,onBlur:ne,onKeyDown:ae,onKeyUp:oe,onMouseDown:te,disabled:!!f||!!o.disabled}))})))});process.env.NODE_ENV!=="production"&&(z.displayName="Segmented");var be=z;module.exports=be;
