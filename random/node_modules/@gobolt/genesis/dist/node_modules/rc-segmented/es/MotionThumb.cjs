"use strict";const j=require("../../@babel/runtime/helpers/esm/objectSpread2.cjs"),d=require("../../@babel/runtime/helpers/esm/slicedToArray.cjs"),W=require("../../../_virtual/index.cjs"),X=require("../../rc-motion/es/CSSMotion.cjs");require("../../rc-motion/es/CSSMotionList.cjs");const Y=require("react"),_=require("../../rc-util/es/hooks/useLayoutEffect.cjs"),z=require("../../rc-util/es/ref.cjs");function I(t){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const l=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(o,r,l.get?l:{enumerable:!0,get:()=>t[r]})}}return o.default=t,Object.freeze(o)}const h=I(Y);var x=function(t,o){if(!t)return null;var r={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return o?{left:0,right:0,width:0,top:r.top,bottom:r.bottom,height:r.height}:{left:r.left,right:r.right,width:r.width,top:0,bottom:0,height:0}},f=function(t){return t!==void 0?"".concat(t,"px"):void 0};module.exports=function(t){var o=t.prefixCls,r=t.containerRef,l=t.value,D=t.getValueIndex,P=t.motionName,T=t.onMotionStart,m=t.onMotionEnd,v=t.direction,b=t.vertical,u=b!==void 0&&b,V=h.useRef(null),C=h.useState(l),p=d(C,2),g=p[0],H=p[1],w=function(e){var a,s=D(e),c=(a=r.current)===null||a===void 0?void 0:a.querySelectorAll(".".concat(o,"-item"))[s];return(c==null?void 0:c.offsetParent)&&c},L=h.useState(null),S=d(L,2),i=S[0],q=S[1],R=h.useState(null),y=d(R,2),n=y[0],E=y[1];_.default(function(){if(g!==l){var e=w(g),a=w(l),s=x(e,u),c=x(a,u);H(l),q(s),E(c),e&&a?T():m()}},[l]);var N=h.useMemo(function(){var e;return f(u?(e=i==null?void 0:i.top)!==null&&e!==void 0?e:0:v==="rtl"?-(i==null?void 0:i.right):i==null?void 0:i.left)},[u,v,i]),O=h.useMemo(function(){var e;return f(u?(e=n==null?void 0:n.top)!==null&&e!==void 0?e:0:v==="rtl"?-(n==null?void 0:n.right):n==null?void 0:n.left)},[u,v,n]);return i&&n?h.createElement(X.default,{visible:!0,motionName:P,motionAppear:!0,onAppearStart:function(){return u?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},onAppearActive:function(){return u?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},onVisibleChanged:function(){q(null),E(null),m()}},function(e,a){var s=e.className,c=e.style,A=j(j({},c),{},{"--thumb-start-left":N,"--thumb-start-width":f(i==null?void 0:i.width),"--thumb-active-left":O,"--thumb-active-width":f(n==null?void 0:n.width),"--thumb-start-top":N,"--thumb-start-height":f(i==null?void 0:i.height),"--thumb-active-top":O,"--thumb-active-height":f(n==null?void 0:n.height)}),M={ref:z.composeRef(V,a),style:A,className:W("".concat(o,"-thumb"),s)};return process.env.NODE_ENV==="test"&&(M["data-test-style"]=JSON.stringify(A)),h.createElement("div",M)}):null};
