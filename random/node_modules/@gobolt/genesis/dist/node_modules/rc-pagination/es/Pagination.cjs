"use strict";const f=require("../../@babel/runtime/helpers/esm/defineProperty.cjs"),C=require("../../@babel/runtime/helpers/esm/extends.cjs"),dn=require("../../@babel/runtime/helpers/esm/typeof.cjs"),vn=require("../../@babel/runtime/helpers/esm/objectSpread2.cjs"),A=require("../../@babel/runtime/helpers/esm/slicedToArray.cjs"),y=require("../../../_virtual/index.cjs"),_e=require("../../rc-util/es/hooks/useMergedState.cjs"),g=require("../../rc-util/es/KeyCode.cjs"),fn=require("../../rc-util/es/pickAttrs.cjs"),gn=require("../../rc-util/es/warning.cjs"),r=require("react"),En=require("./locale/zh_CN.cjs"),Nn=require("./Options.cjs"),z=require("./Pager.cjs");var yn=function(n,p,o){return o};function L(){}function Ke(n){var p=Number(n);return typeof p=="number"&&!Number.isNaN(p)&&isFinite(p)&&Math.floor(p)===p}function b(n,p,o){var _=n===void 0?p:n;return Math.floor((o-1)/_)+1}var Oe=function(n){var p=n.prefixCls,o=p===void 0?"rc-pagination":p,_=n.selectPrefixCls,Re=_===void 0?"rc-select":_,Te=n.className,Ve=n.current,J=n.defaultCurrent,Me=J===void 0?1:J,ee=n.total,c=ee===void 0?0:ee,De=n.pageSize,ne=n.defaultPageSize,He=ne===void 0?10:ne,te=n.onChange,k=te===void 0?L:te,Ue=n.hideOnSinglePage,Y=n.align,ae=n.showPrevNextJumpers,Be=ae===void 0||ae,G=n.showQuickJumper,w=n.showLessItems,re=n.showTitle,E=re===void 0||re,oe=n.onShowSizeChange,le=oe===void 0?L:oe,ie=n.locale,d=ie===void 0?En:ie,Fe=n.style,ce=n.totalBoundaryShowSizeChanger,Qe=ce===void 0?50:ce,K=n.disabled,N=n.simple,ue=n.showTotal,se=n.showSizeChanger,Ye=se===void 0?c>Qe:se,Ge=n.sizeChangerRender,We=n.pageSizeOptions,pe=n.itemRender,P=pe===void 0?yn:pe,me=n.jumpPrevIcon,de=n.jumpNextIcon,Xe=n.prevIcon,Ze=n.nextIcon,$e=r.useRef(null),Ae=_e(10,{value:De,defaultValue:He}),ve=A(Ae,2),s=ve[0],Le=ve[1],Je=_e(1,{value:Ve,defaultValue:Me,postState:function(e){return Math.max(1,Math.min(e,b(void 0,s,c)))}}),fe=A(Je,2),t=fe[0],ge=fe[1],en=r.useState(t),Ee=A(en,2),x=Ee[0],O=Ee[1];r.useEffect(function(){O(t)},[t]);var nn=k!==L,tn="current"in n;process.env.NODE_ENV!=="production"&&gn.warningOnce(!tn||nn,"You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var Ne=Math.max(1,t-(w?3:5)),ye=Math.min(b(void 0,s,c),t+(w?3:5));function R(e,a){var l=e||r.createElement("button",{type:"button","aria-label":a,className:"".concat(o,"-item-link")});return typeof e=="function"&&(l=r.createElement(e,vn({},n))),l}function be(e){var a=e.target.value,l=b(void 0,s,c);return a===""?a:Number.isNaN(Number(a))?x:a>=l?l:Number(a)}var an=c>s&&G;function xe(e){var a=be(e);switch(a!==x&&O(a),e.keyCode){case g.ENTER:m(a);break;case g.UP:m(a-1);break;case g.DOWN:m(a+1)}}function m(e){if(function(I){return Ke(I)&&I!==t&&Ke(c)&&c>0}(e)&&!K){var a=b(void 0,s,c),l=e;return e>a?l=a:e<1&&(l=1),l!==x&&O(l),ge(l),k==null||k(l,s),l}return t}var T=t>1,V=t<b(void 0,s,c);function Ce(){T&&m(t-1)}function ke(){V&&m(t+1)}function we(){m(Ne)}function Pe(){m(ye)}function h(e,a){if(e.key==="Enter"||e.charCode===g.ENTER||e.keyCode===g.ENTER){for(var l=arguments.length,I=new Array(l>2?l-2:0),Q=2;Q<l;Q++)I[Q-2]=arguments[Q];a.apply(void 0,I)}}function M(e){e.type!=="click"&&e.keyCode!==g.ENTER||m(x)}var he=null,rn=fn(n,{aria:!0,data:!0}),on=ue&&r.createElement("li",{className:"".concat(o,"-total-text")},ue(c,[c===0?0:(t-1)*s+1,t*s>c?c:t*s])),je=null,i=b(void 0,s,c);if(Ue&&c<=s)return null;var u=[],j={rootPrefixCls:o,onClick:m,onKeyPress:h,showTitle:E,itemRender:P,page:-1},ln=t-1>0?t-1:0,cn=t+1<i?t+1:i,D=G&&G.goButton,un=dn(N)==="object"?N.readOnly:!N,H=D,qe=null;N&&(D&&(H=typeof D=="boolean"?r.createElement("button",{type:"button",onClick:M,onKeyUp:M},d.jump_to_confirm):r.createElement("span",{onClick:M,onKeyUp:M},D),H=r.createElement("li",{title:E?"".concat(d.jump_to).concat(t,"/").concat(i):null,className:"".concat(o,"-simple-pager")},H)),qe=r.createElement("li",{title:E?"".concat(t,"/").concat(i):null,className:"".concat(o,"-simple-pager")},un?x:r.createElement("input",{type:"text","aria-label":d.jump_to,value:x,disabled:K,onKeyDown:function(e){e.keyCode!==g.UP&&e.keyCode!==g.DOWN||e.preventDefault()},onKeyUp:xe,onChange:xe,onBlur:function(e){m(be(e))},size:3}),r.createElement("span",{className:"".concat(o,"-slash")},"/"),i));var v=w?1:2;if(i<=3+2*v){i||u.push(r.createElement(z,C({},j,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var q=1;q<=i;q+=1)u.push(r.createElement(z,C({},j,{key:q,page:q,active:t===q})))}else{var sn=w?d.prev_3:d.prev_5,pn=w?d.next_3:d.next_5,Se=P(Ne,"jump-prev",R(me,"prev page")),Ie=P(ye,"jump-next",R(de,"next page"));Be&&(he=Se?r.createElement("li",{title:E?sn:null,key:"prev",onClick:we,tabIndex:0,onKeyDown:function(e){h(e,we)},className:y("".concat(o,"-jump-prev"),f({},"".concat(o,"-jump-prev-custom-icon"),!!me))},Se):null,je=Ie?r.createElement("li",{title:E?pn:null,key:"next",onClick:Pe,tabIndex:0,onKeyDown:function(e){h(e,Pe)},className:y("".concat(o,"-jump-next"),f({},"".concat(o,"-jump-next-custom-icon"),!!de))},Ie):null);var W=Math.max(1,t-v),X=Math.min(t+v,i);t-1<=v&&(X=1+2*v),i-t<=v&&(W=i-2*v);for(var S=W;S<=X;S+=1)u.push(r.createElement(z,C({},j,{key:S,page:S,active:t===S})));if(t-1>=2*v&&t!==3&&(u[0]=r.cloneElement(u[0],{className:y("".concat(o,"-item-after-jump-prev"),u[0].props.className)}),u.unshift(he)),i-t>=2*v&&t!==i-2){var ze=u[u.length-1];u[u.length-1]=r.cloneElement(ze,{className:y("".concat(o,"-item-before-jump-next"),ze.props.className)}),u.push(je)}W!==1&&u.unshift(r.createElement(z,C({},j,{key:1,page:1}))),X!==i&&u.push(r.createElement(z,C({},j,{key:i,page:i})))}var U=function(e){var a=P(e,"prev",R(Xe,"prev page"));return r.isValidElement(a)?r.cloneElement(a,{disabled:!T}):a}(ln);if(U){var Z=!T||!i;U=r.createElement("li",{title:E?d.prev_page:null,onClick:Ce,tabIndex:Z?null:0,onKeyDown:function(e){h(e,Ce)},className:y("".concat(o,"-prev"),f({},"".concat(o,"-disabled"),Z)),"aria-disabled":Z},U)}var B,$,F=function(e){var a=P(e,"next",R(Ze,"next page"));return r.isValidElement(a)?r.cloneElement(a,{disabled:!V}):a}(cn);F&&(N?(B=!V,$=T?0:null):$=(B=!V||!i)?null:0,F=r.createElement("li",{title:E?d.next_page:null,onClick:ke,tabIndex:$,onKeyDown:function(e){h(e,ke)},className:y("".concat(o,"-next"),f({},"".concat(o,"-disabled"),B)),"aria-disabled":B},F));var mn=y(o,Te,f(f(f(f(f({},"".concat(o,"-start"),Y==="start"),"".concat(o,"-center"),Y==="center"),"".concat(o,"-end"),Y==="end"),"".concat(o,"-simple"),N),"".concat(o,"-disabled"),K));return r.createElement("ul",C({className:mn,style:Fe,ref:$e},rn),on,U,N?qe:u,F,r.createElement(Nn,{locale:d,rootPrefixCls:o,disabled:K,selectPrefixCls:Re,changeSize:function(e){var a=b(e,s,c),l=t>a&&a!==0?a:t;Le(e),O(l),le==null||le(t,e),ge(l),k==null||k(l,e)},pageSize:s,pageSizeOptions:We,quickGo:an?m:null,goButton:H,showSizeChanger:Ye,sizeChangerRender:Ge}))};process.env.NODE_ENV!=="production"&&(Oe.displayName="Pagination"),module.exports=Oe;
