"use strict";const Q=require("../../../@babel/runtime/helpers/esm/extends.cjs"),h=require("../../../@babel/runtime/helpers/esm/typeof.cjs"),A=require("../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),R=require("../../../@babel/runtime/helpers/esm/objectWithoutProperties.cjs"),U=require("react"),Y=require("../../../../_virtual/index.cjs"),L=require("../common.cjs"),$=require("../hooks/useId.cjs"),ee=require("./PtgCircle.cjs"),s=require("./util.cjs");function te(t){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const c in t)if(c!=="default"){const l=Object.getOwnPropertyDescriptor(t,c);Object.defineProperty(r,c,l.get?l:{enumerable:!0,get:()=>t[c]})}}return r.default=t,Object.freeze(r)}const C=te(U);var re=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function X(t){var r=t??[];return Array.isArray(r)?r:[r]}var Z=function(t){var r,c,l,e=A(A({},L.defaultProps),t),N=e.id,y=e.prefixCls,W=e.steps,i=e.strokeWidth,w=e.trailWidth,S=e.gapDegree,o=S===void 0?0:S,q=e.gapPosition,I=e.trailColor,M=e.strokeLinecap,z=e.style,T=e.className,F=e.strokeColor,G=e.percent,H=R(e,re),p=s.VIEW_BOX_SIZE/2,J=$.default(N),j="".concat(J,"-gradient"),k=p-i/2,m=2*Math.PI*k,O=o>0?90+o/2:-90,f=m*((360-o)/360),D=h(W)==="object"?W:{count:W,gap:2},d=D.count,x=D.gap,P=X(G),g=X(F),B=g.find(function(u){return u&&h(u)==="object"}),v=B&&h(B)==="object"?"butt":M,K=s.getCircleStyle(m,f,0,100,O,o,q,I,v,i),V=L.useTransitionDuration();return C.createElement("svg",Q({className:Y("".concat(y,"-circle"),T),viewBox:"0 0 ".concat(s.VIEW_BOX_SIZE," ").concat(s.VIEW_BOX_SIZE),style:z,id:N,role:"presentation"},H),!d&&C.createElement("circle",{className:"".concat(y,"-circle-trail"),r:k,cx:p,cy:p,stroke:I,strokeLinecap:v,strokeWidth:w||i,style:K}),d?(r=Math.round(d*(P[0]/100)),c=100/d,l=0,new Array(d).fill(null).map(function(u,a){var n=a<=r-1?g[0]:I,E=n&&h(n)==="object"?"url(#".concat(j,")"):void 0,b=s.getCircleStyle(m,f,l,c,O,o,q,n,"butt",i,x);return l+=100*(f-b.strokeDashoffset+x)/f,C.createElement("circle",{key:a,className:"".concat(y,"-circle-path"),r:k,cx:p,cy:p,stroke:E,strokeWidth:i,opacity:1,style:b,ref:function(_){V[a]=_}})})):function(){var u=0;return P.map(function(a,n){var E=g[n]||g[g.length-1],b=s.getCircleStyle(m,f,u,a,O,o,q,E,v,i);return u+=a,C.createElement(ee,{key:n,color:E,ptg:a,radius:k,prefixCls:y,gradientId:j,style:b,strokeLinecap:v,strokeWidth:i,gapDegree:o,ref:function(_){V[n]=_},size:s.VIEW_BOX_SIZE})}).reverse()}())};process.env.NODE_ENV!=="production"&&(Z.displayName="Circle"),module.exports=Z;
