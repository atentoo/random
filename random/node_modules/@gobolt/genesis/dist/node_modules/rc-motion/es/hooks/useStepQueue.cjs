"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),b=require("../../../rc-util/es/hooks/useState.cjs"),v=require("react"),e=require("../interface.cjs"),O=require("./useIsomorphicLayoutEffect.cjs"),R=require("./useNextFrame.cjs");function g(t){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const u=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,u.get?u:{enumerable:!0,get:()=>t[r]})}}return i.default=t,Object.freeze(i)}const D=g(v);var q=[e.STEP_PREPARE,e.STEP_START,e.STEP_ACTIVE,e.STEP_ACTIVATED],C=[e.STEP_PREPARE,e.STEP_PREPARED],l=!1;exports.DoStep=!0,exports.SkipStep=l,exports.default=function(t,i,r){var u=b(e.STEP_NONE),P=a(u,2),n=P[0],o=P[1],s=R(),T=a(s,2),_=T[0],A=T[1],f=i?C:q;return O(function(){if(n!==e.STEP_NONE&&n!==e.STEP_ACTIVATED){var d=f.indexOf(n),E=f[d+1],c=r(n);c===l?o(E,!0):E&&_(function(p){function S(){p.isCanceled()||o(E,!0)}c===!0?S():Promise.resolve(c).then(S)})}},[t,n]),D.useEffect(function(){return function(){A()}},[]),[function(){o(e.STEP_PREPARE,!0)},n]},exports.isActive=function(t){return t===e.STEP_ACTIVE||t===e.STEP_ACTIVATED};
