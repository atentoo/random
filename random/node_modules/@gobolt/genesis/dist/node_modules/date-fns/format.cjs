"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const v=require("./_lib/defaultOptions.cjs"),u=require("./_lib/format/formatters.cjs"),k=require("./_lib/format/longFormatters.cjs"),l=require("./_lib/protectedTokens.cjs"),T=require("./isValid.cjs"),q=require("./toDate.cjs"),D=require("./locale/en-US.cjs"),S=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P=/^'([^]*?)'?$/,j=/''/g,z=/[a-zA-Z]/;function c(t,o,F){var f,m,p,g;const a=v.getDefaultOptions(),n=a.locale??D.enUS,d=a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,w=a.weekStartsOn??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,i=q.toDate(t);if(!T.isValid(i))throw new RangeError("Invalid time value");let s=o.match(O).map(r=>{const e=r[0];return e==="p"||e==="P"?(0,k.longFormatters[e])(r,n.formatLong):r}).join("").match(S).map(r=>{if(r==="''")return{isToken:!1,value:"'"};const e=r[0];if(e==="'")return{isToken:!1,value:E(r)};if(u.formatters[e])return{isToken:!0,value:r};if(e.match(z))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:r}});n.localize.preprocessor&&(s=n.localize.preprocessor(i,s));const h={firstWeekContainsDate:d,weekStartsOn:w,locale:n};return s.map(r=>{if(!r.isToken)return r.value;const e=r.value;return(l.isProtectedWeekYearToken(e)||l.isProtectedDayOfYearToken(e))&&l.warnOrThrowProtectedError(e,o,String(t)),(0,u.formatters[e[0]])(i,e,n.localize,h)}).join("")}function E(t){const o=t.match(P);return o?o[1].replace(j,"'"):t}exports.formatters=u.formatters,exports.longFormatters=k.longFormatters,exports.default=c,exports.format=c,exports.formatDate=c;
