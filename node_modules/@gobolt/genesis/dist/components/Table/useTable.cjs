"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("react"),p=a=>({disabled:!1,name:a.id});exports.useTable=a=>{const[i,u]=t.useState(!0),{columns:r,filters:d=null,fetchUrl:S="/table/data",fetchOptions:n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)},selectionType:f="checkbox",simulateDelay:l=0,disableRowSelection:b=p}=a,[w,h]=t.useState([]),[y,c]=t.useState({dataSource:[],columns:[],error:null}),[g,m]=t.useState([]);return t.useEffect(()=>{const o=async()=>{try{const e=await fetch(S,n),s=(await e.json()).data||[];h(s),c({dataSource:s,columns:r,error:null})}catch(e){console.error("Error fetching table data:",e),c({dataSource:[],columns:r,error:e instanceof Error?e:new Error(String(e))})}finally{u(!1)}};l>0?setTimeout(o,l):o()},[n]),{...y,isLoading:i,rowSelection:{type:f,onChange:t.useCallback((o,e)=>{console.log("Row Selected:",o,e),m(e)},[]),getCheckboxProps:b},selectedRows:g}};
