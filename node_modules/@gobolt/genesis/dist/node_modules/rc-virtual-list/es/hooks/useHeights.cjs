"use strict";const S=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),o=require("react"),q=require("../utils/CacheMap.cjs");function w(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const C=w(o);function O(e){var t=parseFloat(e);return isNaN(t)?0:t}module.exports=function(e,t,n){var a=C.useState(0),g=S(a,2),j=g[0],y=g[1],f=o.useRef(new Map),s=o.useRef(new q),i=o.useRef(0);function m(){i.current+=1}function p(){var l=arguments.length>0&&arguments[0]!==void 0&&arguments[0];m();var u=function(){var v=!1;f.current.forEach(function(r,d){if(r&&r.offsetParent){var N=r.offsetHeight,b=getComputedStyle(r),P=b.marginTop,R=b.marginBottom,h=N+O(P)+O(R);s.current.get(d)!==h&&(s.current.set(d,h),v=!0)}}),v&&y(function(r){return r+1})};if(l)u();else{i.current+=1;var c=i.current;Promise.resolve().then(function(){c===i.current&&u()})}}return o.useEffect(function(){return m},[]),[function(l,u){var c=e(l);f.current.get(c),u?(f.current.set(c,u),p()):f.current.delete(c)},p,s.current,j]};
