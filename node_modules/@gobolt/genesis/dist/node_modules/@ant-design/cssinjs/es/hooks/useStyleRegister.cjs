"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const ae=require("../../../../@babel/runtime/helpers/esm/extends.cjs"),B=require("../../../../@babel/runtime/helpers/esm/defineProperty.cjs"),J=require("../../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),R=require("../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),Q=require("../../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),V=require("../../../../@babel/runtime/helpers/esm/typeof.cjs"),oe=require("../../../../@emotion/hash/dist/hash.browser.esm.cjs"),W=require("../../../../rc-util/es/Dom/dynamicCSS.cjs"),ce=require("react"),ie=require("../../../../@emotion/unitless/dist/unitless.browser.esm.cjs"),ue=require("../linters/contentQuotesLinter.cjs"),le=require("../linters/hashedAnimationLinter.cjs");require("../../../../rc-util/es/warning.cjs");const I=require("../StyleContext.cjs"),Y=require("../util/index.cjs"),Z=require("../util/cacheMapUtil.cjs"),se=require("./useGlobalCache.cjs"),G=require("../../../../stylis/src/Serializer.cjs"),fe=require("../../../../stylis/src/Parser.cjs");function pe(e){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,a.get?a:{enumerable:!0,get:()=>e[n]})}}return o.default=e,Object.freeze(o)}const w=pe(ce);var U="_skip_check_",$="_multi_value_";function D(e){return G.serialize(fe.compile(e),G.stringify).replace(/\{%%%\:[^;];}/g,";")}function ve(e,o,n){if(!o)return e;var a=".".concat(o),_=n==="low"?":where(".concat(a,")"):a;return e.split(",").map(function(O){var s,c=O.trim().split(/\s+/),i=c[0]||"",E=((s=i.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return[i="".concat(E).concat(_).concat(i.slice(E.length))].concat(Q(c.slice(1))).join(" ")}).join(",")}var ee=function e(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},_=a.root,O=a.injectHash,s=a.parentSelectors,c=n.hashId,i=n.layer,E=n.path,u=n.hashPriority,q=n.transformers,H=q===void 0?[]:q,A=n.linters,L=A===void 0?[]:A,f="",k={};function x(m){var p=m.getName(c);if(!k[p]){var v=e(m.style,n,{root:!1,parentSelectors:s}),t=R(v,1)[0];k[p]="@keyframes ".concat(m.getName(c)).concat(t)}}var X=function m(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return p.forEach(function(t){Array.isArray(t)?m(t,v):t&&v.push(t)}),v}(Array.isArray(o)?o:[o]);return X.forEach(function(m){var p=typeof m!="string"||_?m:{};if(typeof p=="string")f+="".concat(p,`
`);else if(p._keyframe)x(p);else{var v=H.reduce(function(t,r){var N;return(r==null||(N=r.visit)===null||N===void 0?void 0:N.call(r,t))||t},p);Object.keys(v).forEach(function(t){var r=v[t];if(V(r)!=="object"||!r||t==="animationName"&&r._keyframe||function(h){return V(h)==="object"&&h&&(U in h||$ in h)}(r)){let h=function(y,g){process.env.NODE_ENV==="production"||V(r)==="object"&&r!=null&&r[U]||[ue,le].concat(Q(L)).forEach(function(C){return C(y,g,{path:E,hashId:c,parentSelectors:s})});var K=y.replace(/[A-Z]/g,function(C){return"-".concat(C.toLowerCase())}),j=g;ie[y]||typeof j!="number"||j===0||(j="".concat(j,"px")),y==="animationName"&&g!=null&&g._keyframe&&(x(g),j=g.getName(c)),f+="".concat(K,":").concat(j,";")};var N,P=(N=r==null?void 0:r.value)!==null&&N!==void 0?N:r;V(r)==="object"&&r!=null&&r[$]&&Array.isArray(P)?P.forEach(function(y){h(t,y)}):h(t,P)}else{var z=!1,T=t.trim(),F=!1;(_||O)&&c?T.startsWith("@")?z=!0:T=ve(T==="&"?"":t,c,u):!_||c||T!=="&"&&T!==""||(T="",F=!0);var b=e(r,n,{root:F,injectHash:z,parentSelectors:[].concat(Q(s),[T])}),l=R(b,2),d=l[0],M=l[1];k=J(J({},k),M),f+="".concat(T).concat(d)}})}}),_?i&&(f&&(f="@layer ".concat(i.name," {").concat(f,"}")),i.dependencies&&(k["@layer ".concat(i.name)]=i.dependencies.map(function(m){return"@layer ".concat(m,", ").concat(i.name,";")}).join(`
`))):f="{".concat(f,"}"),[f,k]};function te(e,o){return oe("".concat(e.join("%")).concat(o))}function de(){return null}var re="style";exports.STYLE_PREFIX=re,exports.default=function(e,o){var n=e.token,a=e.path,_=e.hashId,O=e.layer,s=e.nonce,c=e.clientOnly,i=e.order,E=i===void 0?0:i,u=w.useContext(I.default),q=u.autoClear,H=u.mock,A=u.defaultCache,L=u.hashPriority,f=u.container,k=u.ssrInline,x=u.transformers,X=u.linters,m=u.cache,p=u.layer,v=n._tokenKey,t=[v];p&&t.push("layer"),t.push.apply(t,Q(a));var r=Y.isClientSide;process.env.NODE_ENV!=="production"&&H!==void 0&&(r=H==="client");var N=se(re,t,function(){var b=t.join("|");if(Z.existPath(b)){var l=Z.getStyleAndHash(b),d=R(l,2),M=d[0],h=d[1];if(M)return[M,v,h,{},c,E]}var y=o(),g=ee(y,{hashId:_,hashPriority:L,layer:p?O:void 0,path:a.join("-"),transformers:x,linters:X}),K=R(g,2),j=K[0],C=K[1],S=D(j),ne=te(t,S);return[S,v,ne,C,c,E]},function(b,l){var d=R(b,3)[2];(l||q)&&Y.isClientSide&&W.removeCSS(d,{mark:I.ATTR_MARK})},function(b){var l=R(b,4),d=l[0];l[1];var M=l[2],h=l[3];if(r&&d!==Z.CSS_FILE_STYLE){var y={mark:I.ATTR_MARK,prepend:!p&&"queue",attachTo:f,priority:E},g=typeof s=="function"?s():s;g&&(y.csp={nonce:g});var K=[],j=[];Object.keys(h).forEach(function(S){S.startsWith("@layer")?K.push(S):j.push(S)}),K.forEach(function(S){W.updateCSS(D(h[S]),"_layer-".concat(S),J(J({},y),{},{prepend:!0}))});var C=W.updateCSS(d,M,y);C[I.CSS_IN_JS_INSTANCE]=m.instanceId,C.setAttribute(I.ATTR_TOKEN,v),process.env.NODE_ENV!=="production"&&C.setAttribute(I.ATTR_CACHE_PATH,t.join("|")),j.forEach(function(S){W.updateCSS(D(h[S]),"_effect-".concat(S),y)})}}),P=R(N,3),z=P[0],T=P[1],F=P[2];return function(b){var l,d;return k&&!r&&A?l=w.createElement("style",ae({},(B(d={},I.ATTR_TOKEN,T),B(d,I.ATTR_MARK,F),d),{dangerouslySetInnerHTML:{__html:z}})):l=w.createElement(de,null),w.createElement(w.Fragment,null,l,b)}},exports.extract=function(e,o,n){var a=R(e,6),_=a[0],O=a[1],s=a[2],c=a[3],i=a[4],E=a[5],u=(n||{}).plain;if(i)return null;var q=_,H={"data-rc-order":"prependQueue","data-rc-priority":"".concat(E)};return q=Y.toStyleStr(_,O,s,H,u),c&&Object.keys(c).forEach(function(A){if(!o[A]){o[A]=!0;var L=D(c[A]),f=Y.toStyleStr(L,O,"_effect-".concat(A),H,u);A.startsWith("@layer")?q=f+q:q+=f}}),[E,s,q]},exports.normalizeStyle=D,exports.parseStyle=ee,exports.uniqueHash=te;
