"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const f=require("../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),m=require("../../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),l=require("../../../../rc-util/es/Dom/dynamicCSS.cjs"),x=require("react"),o=require("../StyleContext.cjs"),A=require("../util/index.cjs"),b=require("../util/css-variables.cjs"),g=require("./useGlobalCache.cjs"),h=require("./useStyleRegister.cjs");var C="cssVar";exports.CSS_VAR_PREFIX=C,exports.default=function(e,q){var r=e.key,i=e.prefix,c=e.unitless,s=e.ignore,p=e.token,S=e.scope,d=S===void 0?"":S,T=x.useContext(o.default),y=T.cache.instanceId,R=T.container,k=p._tokenKey,_=[].concat(m(e.path),[r,d,k]);return g(C,_,function(){var n=q(),t=b.transformToken(n,r,{prefix:i,unitless:c,ignore:s,scope:d}),u=f(t,2),v=u[0],a=u[1];return[v,a,h.uniqueHash(_,a),r]},function(n){var t=f(n,3)[2];A.isClientSide&&l.removeCSS(t,{mark:o.ATTR_MARK})},function(n){var t=f(n,3),u=t[1],v=t[2];if(u){var a=l.updateCSS(u,v,{mark:o.ATTR_MARK,prepend:"queue",attachTo:R,priority:-999});a[o.CSS_IN_JS_INSTANCE]=y,a.setAttribute(o.ATTR_TOKEN,r)}})},exports.extract=function(e,q,r){var i=f(e,4),c=i[1],s=i[2],p=i[3],S=(r||{}).plain;if(!c)return null;var d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)};return[-999,s,A.toStyleStr(c,p,s,d,S)]};
