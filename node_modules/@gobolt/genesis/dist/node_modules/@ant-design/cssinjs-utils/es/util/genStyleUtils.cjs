"use strict";const ee=require("../../../../@babel/runtime/helpers/esm/typeof.cjs"),N=require("../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),re=require("../../../../@babel/runtime/helpers/esm/defineProperty.cjs"),l=require("../../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),R=require("react");require("../../../cssinjs/es/extractStyle.cjs"),require("../../../cssinjs/es/hooks/useCacheToken.cjs");const ne=require("../../../cssinjs/es/hooks/useCSSVarRegister.cjs"),J=require("../../../cssinjs/es/hooks/useStyleRegister.cjs");require("../../../../rc-util/es/warning.cjs"),require("../../../cssinjs/es/StyleContext.cjs"),require("../../../cssinjs/es/theme/createTheme.cjs"),require("../../../cssinjs/es/theme/ThemeCache.cjs"),require("../../../cssinjs/es/transformers/legacyLogicalProperties.cjs");const U=require("../../../cssinjs/es/util/css-variables.cjs"),te=require("./calc/index.cjs"),K=require("./getCompVarPrefix.cjs"),L=require("./getComponentToken.cjs"),M=require("./getDefaultComponentToken.cjs"),oe=require("./maxmin.cjs"),Q=require("./statistic.cjs"),ie=require("../_util/hooks/useUniqueMemo.cjs"),ue=require("../hooks/useCSP.cjs");module.exports=function(y){var _=y.useCSP,W=_===void 0?ue:_,j=y.useToken,X=y.usePrefix,w=y.getResetStyles,D=y.getCommonStyle,F=y.getCompUnitless;function A(r,V,x){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=Array.isArray(r)?r:[r,r],t=N(f,1)[0],m=f.join("-"),q=y.layer||{name:"antd"};return function(a){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,g=j(),I=g.theme,e=g.realToken,d=g.hashId,i=g.token,o=g.cssVar,k=X(),c=k.rootPrefixCls,h=k.iconPrefixCls,b=W(),P=o?"css":"js",H=ie(function(){var u=new Set;return o&&Object.keys(n.unitless||{}).forEach(function(S){u.add(U.token2CSSVar(S,o.prefix)),u.add(U.token2CSSVar(S,K(t,o.prefix)))}),te(P,u)},[P,t,o==null?void 0:o.prefix]),v=oe(P),p=v.max,C=v.min,E={theme:I,token:i,hashId:d,nonce:function(){return b.nonce},clientOnly:n.clientOnly,layer:q,order:n.order||-999};return typeof w=="function"&&J.default(l(l({},E),{},{clientOnly:!1,path:["Shared",c]}),function(){return w(i,{prefix:{rootPrefixCls:c,iconPrefixCls:h},csp:b})}),[J.default(l(l({},E),{},{path:[m,a,h]}),function(){if(n.injectStyle===!1)return[];var u=Q.default(i),S=u.token,T=u.flush,s=M(t,e,x),Y=".".concat(a),z=L(t,e,s,{deprecatedTokens:n.deprecatedTokens});o&&s&&ee(s)==="object"&&Object.keys(s).forEach(function(G){s[G]="var(".concat(U.token2CSSVar(G,K(t,o.prefix)),")")});var B=Q.merge(S,{componentCls:Y,prefixCls:a,iconCls:".".concat(h),antCls:".".concat(c),calc:H,max:p,min:C},o?s:z),Z=V(B,{hashId:d,prefixCls:a,rootPrefixCls:c,iconPrefixCls:h});T(t,z);var $=typeof D=="function"?D(B,a,O,n.resetFont):null;return[n.resetStyle===!1?null:$,Z]}),d]}}return{genStyleHooks:function(r,V,x,n){var f=Array.isArray(r)?r[0]:r;function t(e){return"".concat(String(f)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var m=(n==null?void 0:n.unitless)||{},q=typeof F=="function"?F(r):{},a=l(l({},q),{},re({},t("zIndexPopup"),!0));Object.keys(m).forEach(function(e){a[t(e)]=m[e]});var O=l(l({},n),{},{unitless:a,prefixToken:t}),g=A(r,V,x,O),I=function(e,d,i){var o=i.unitless,k=i.injectStyle,c=k===void 0||k,h=i.prefixToken,b=i.ignore,P=function(v){var p=v.rootCls,C=v.cssVar,E=C===void 0?{}:C,u=j().realToken;return ne.default({path:[e],prefix:E.prefix,key:E.key,unitless:o,ignore:b,token:u,scope:p},function(){var S=M(e,u,d),T=L(e,u,S,{deprecatedTokens:i==null?void 0:i.deprecatedTokens});return Object.keys(S).forEach(function(s){T[h(s)]=T[s],delete T[s]}),T}),null},H=function(v){var p=j().cssVar;return[function(C){return c&&p?R.createElement(R.Fragment,null,R.createElement(P,{rootCls:v,cssVar:p,component:e}),C):C},p==null?void 0:p.key]};return H}(f,x,O);return function(e){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=g(e,d),o=N(i,2)[1],k=I(d),c=N(k,2);return[c[0],o,c[1]]}},genSubStyleComponent:function(r,V,x){var n=A(r,V,x,l({resetStyle:!1,order:-998},arguments.length>3&&arguments[3]!==void 0?arguments[3]:{})),f=function(t){var m=t.prefixCls,q=t.rootCls;return n(m,q===void 0?m:q),null};return process.env.NODE_ENV!=="production"&&(f.displayName="SubStyle_".concat(String(Array.isArray(r)?r.join("."):r))),f},genComponentStyleHook:A}};
