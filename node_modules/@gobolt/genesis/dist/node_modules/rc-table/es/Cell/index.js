import ho from "../../../@babel/runtime/helpers/esm/extends.js";
import wo from "../../../@babel/runtime/helpers/esm/typeof.js";
import u from "../../../@babel/runtime/helpers/esm/objectSpread2.js";
import l from "../../../@babel/runtime/helpers/esm/defineProperty.js";
import B from "../../../@babel/runtime/helpers/esm/slicedToArray.js";
import { useContext as go } from "../../../@rc-component/context/es/context.js";
import "../../../rc-util/es/ref.js";
import * as d from "react";
import So from "../../../../_virtual/index.js";
import Eo from "../context/TableContext.js";
import No from "../hooks/useRenderTimes.js";
import Lo from "./useCellRender.js";
import bo from "./useHoverState.js";
import G from "../../../rc-util/es/hooks/useEvent.js";
import "../../../rc-util/es/hooks/useLayoutEffect.js";
import "../../../rc-util/es/warning.js";
function ko(o) {
  var v, f, x, y, h, w, g, T;
  process.env.NODE_ENV !== "production" && No(o);
  var J = o.component, K = o.children, S = o.ellipsis, Q = o.scope, W = o.prefixCls, X = o.className, M = o.align, E = o.record, Y = o.render, Z = o.dataIndex, $ = o.renderIndex, oo = o.shouldCellUpdate, N = o.index, eo = o.rowType, to = o.colSpan, io = o.rowSpan, A = o.fixLeft, R = o.fixRight, lo = o.firstFixLeft, L = o.lastFixLeft, V = o.firstFixRight, ro = o.lastFixRight, H = o.appendNode, I = o.additionalProps, t = I === void 0 ? {} : I, no = o.isSticky, e = "".concat(W, "-cell"), b = go(Eo, ["supportSticky", "allColumnsFixedLeft", "rowHoverable"]), r = b.supportSticky, ao = b.allColumnsFixedLeft, j = b.rowHoverable, so = Lo(E, Z, $, K, Y, oo), D = B(so, 2), O = D[0], n = D[1], p = {}, k = typeof A == "number" && r, C = typeof R == "number" && r;
  k && (p.position = "sticky", p.left = A), C && (p.position = "sticky", p.right = R);
  var F = (v = (f = (x = n == null ? void 0 : n.colSpan) !== null && x !== void 0 ? x : t.colSpan) !== null && f !== void 0 ? f : to) !== null && v !== void 0 ? v : 1, m = (y = (h = (w = n == null ? void 0 : n.rowSpan) !== null && w !== void 0 ? w : t.rowSpan) !== null && h !== void 0 ? h : io) !== null && y !== void 0 ? y : 1, co = bo(N, m), P = B(co, 2), po = P[0], U = P[1], mo = G(function(s) {
    var i;
    E && U(N, N + m - 1), t == null || (i = t.onMouseEnter) === null || i === void 0 || i.call(t, s);
  }), uo = G(function(s) {
    var i;
    E && U(-1, -1), t == null || (i = t.onMouseLeave) === null || i === void 0 || i.call(t, s);
  });
  if (F === 0 || m === 0) return null;
  var vo = (g = t.title) !== null && g !== void 0 ? g : function(s) {
    var i, q = s.ellipsis, yo = s.rowType, c = s.children, z = q === !0 ? { showTitle: !0 } : q;
    return z && (z.showTitle || yo === "header") && (typeof c == "string" || typeof c == "number" ? i = c.toString() : d.isValidElement(c) && typeof c.props.children == "string" && (i = c.props.children)), i;
  }({ rowType: eo, ellipsis: S, children: O }), fo = So(e, X, (l(l(l(l(l(l(l(l(l(l(T = {}, "".concat(e, "-fix-left"), k && r), "".concat(e, "-fix-left-first"), lo && r), "".concat(e, "-fix-left-last"), L && r), "".concat(e, "-fix-left-all"), L && ao && r), "".concat(e, "-fix-right"), C && r), "".concat(e, "-fix-right-first"), V && r), "".concat(e, "-fix-right-last"), ro && r), "".concat(e, "-ellipsis"), S), "".concat(e, "-with-append"), H), "".concat(e, "-fix-sticky"), (k || C) && no && r), l(T, "".concat(e, "-row-hover"), !n && po)), t.className, n == null ? void 0 : n.className), _ = {};
  M && (_.textAlign = M);
  var xo = u(u(u(u({}, n == null ? void 0 : n.style), p), _), t.style), a = O;
  return wo(a) !== "object" || Array.isArray(a) || d.isValidElement(a) || (a = null), S && (L || V) && (a = d.createElement("span", { className: "".concat(e, "-content") }, a)), d.createElement(J, ho({}, n, t, { className: fo, style: xo, title: vo, scope: Q, onMouseEnter: j ? mo : void 0, onMouseLeave: j ? uo : void 0, colSpan: F !== 1 ? F : null, rowSpan: m !== 1 ? m : null }), H, a);
}
const qo = d.memo(ko);
export {
  qo as default
};
