import p from "../../../@babel/runtime/helpers/esm/objectSpread2.js";
import { useContext as K } from "../../../@rc-component/context/es/context.js";
import "../../../rc-util/es/ref.js";
import "react";
import B from "../context/TableContext.js";
import { getColumnsKey as S } from "../utils/valueUtil.js";
import j from "../../../rc-util/es/hooks/useEvent.js";
import "../../../rc-util/es/hooks/useLayoutEffect.js";
import "../../../rc-util/es/warning.js";
import z from "../../../../_virtual/index.js";
function O(n, R, l, v) {
  var d, e = K(B, ["prefixCls", "fixedInfoList", "flattenColumns", "expandableType", "expandRowByClick", "onTriggerExpand", "rowClassName", "expandedRowClassName", "indentSize", "expandIcon", "expandedRowRender", "expandIconColumnIndex", "expandedKeys", "childrenColumnName", "rowExpandable", "onRow"]), E = e.flattenColumns, m = e.expandableType, i = e.expandedKeys, s = e.childrenColumnName, x = e.onTriggerExpand, u = e.rowExpandable, f = e.onRow, b = e.expandRowByClick, a = e.rowClassName, c = m === "nest", C = m === "row" && (!u || u(n)), w = C || c, h = i && i.has(R), I = s && n && n[s], T = j(x), o = f == null ? void 0 : f(n, l), y = o == null ? void 0 : o.onClick;
  typeof a == "string" ? d = a : typeof a == "function" && (d = a(n, l, v));
  var k = S(E);
  return p(p({}, e), {}, { columnsKey: k, nestExpandable: c, expanded: h, hasNestChildren: I, record: n, onTriggerExpand: T, rowSupportExpand: C, expandable: w, rowProps: p(p({}, o), {}, { className: z(d, o == null ? void 0 : o.className), onClick: function(g) {
    b && w && x(n, g);
    for (var t = arguments.length, N = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) N[r - 1] = arguments[r];
    y == null || y.apply(void 0, [g].concat(N));
  } }) });
}
export {
  O as default
};
