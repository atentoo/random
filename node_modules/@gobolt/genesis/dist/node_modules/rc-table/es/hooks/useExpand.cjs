"use strict";const R=require("../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),j=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),v=require("../../../@babel/runtime/helpers/esm/typeof.cjs"),C=require("../../../rc-util/es/warning.cjs"),S=require("react"),D=require("../constant.cjs"),w=require("../utils/expandUtil.cjs"),I=require("../utils/legacyUtil.cjs");function K(n){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const o in n)if(o!=="default"){const e=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(r,o,e.get?e:{enumerable:!0,get:()=>n[o]})}}return r.default=n,Object.freeze(r)}const i=K(S);module.exports=function(n,r,o){var e=I.getExpandableProps(n),O=e.expandIcon,f=e.expandedRowKeys,m=e.defaultExpandedRowKeys,N=e.defaultExpandAllRows,s=e.expandedRowRender,c=e.onExpand,l=e.onExpandedRowsChange,_=e.childrenColumnName,g=O||w.renderExpandIcon,a=_||"children",q=i.useMemo(function(){return s?"row":!!(n.expandable&&n.internalHooks===D.INTERNAL_HOOKS&&n.expandable.__PARENT_RENDER_ICON__||r.some(function(t){return t&&v(t)==="object"&&t[a]}))&&"nest"},[!!s,r]),y=i.useState(function(){return m||(N?w.findAllChildrenKeys(r,o,a):[])}),x=j(y,2),b=x[0],h=x[1],u=i.useMemo(function(){return new Set(f||b||[])},[f,b]),A=i.useCallback(function(t){var d,p=o(t,r.indexOf(t)),E=u.has(p);E?(u.delete(p),d=R(u)):d=[].concat(R(u),[p]),h(d),c&&c(!E,t),l&&l(d)},[o,u,r,c,l]);return process.env.NODE_ENV!=="production"&&s&&r.some(function(t){return Array.isArray(t==null?void 0:t[a])})&&C.warningOnce(!1,"`expandedRowRender` should not use with nested Table"),[e,q,u,g,a,A]};
