import * as e from "react";
var i = e.createContext(null);
function C(l) {
  var s = l.children, n = l.onBatchResize, r = e.useRef(0), t = e.useRef([]), u = e.useContext(i), f = e.useCallback(function(o, c, a) {
    r.current += 1;
    var v = r.current;
    t.current.push({ size: o, element: c, data: a }), Promise.resolve().then(function() {
      v === r.current && (n == null || n(t.current), t.current = []);
    }), u == null || u(o, c, a);
  }, [n, u]);
  return e.createElement(i.Provider, { value: f }, s);
}
export {
  C as Collection,
  i as CollectionContext
};
