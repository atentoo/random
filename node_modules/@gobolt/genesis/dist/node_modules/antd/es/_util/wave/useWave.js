import * as n from "react";
import d from "../../../../rc-util/es/hooks/useEvent.js";
import m from "../../../../rc-util/es/raf.js";
import "../../config-provider/index.js";
import v from "../../theme/useToken.js";
import { TARGET_CLS as C } from "./interface.js";
import h from "./WaveEffect.js";
import { ConfigContext as x } from "../../config-provider/context.js";
const k = (s, c, a) => {
  const { wave: o } = n.useContext(x), [, f, u] = v(), i = d((r) => {
    const t = s.current;
    if (o != null && o.disabled || !t) return;
    const p = t.querySelector(`.${C}`) || t, { showEffect: l } = o || {};
    (l || h)(p, { className: c, token: f, component: a, event: r, hashId: u });
  }), e = n.useRef(null);
  return (r) => {
    m.cancel(e.current), e.current = m(() => {
      i(r);
    });
  };
};
export {
  k as default
};
