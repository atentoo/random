"use strict";const j=require("react"),o=require("../../../../_virtual/index.cjs");require("../../../rc-menu/es/index.cjs");const v=require("../../../rc-util/es/omit.cjs"),E=require("../_util/hooks/useZIndex.cjs"),N=require("../_util/reactNode.cjs"),u=require("./MenuContext.cjs"),O=require("../../../rc-menu/es/context/PathContext.cjs"),y=require("../../../rc-menu/es/SubMenu/index.cjs");function x(t){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const l=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,l.get?l:{enumerable:!0,get:()=>t[r]})}}return s.default=t,Object.freeze(s)}const e=x(j);module.exports=t=>{var s;const{popupClassName:r,icon:l,title:n,theme:p}=t,a=e.useContext(u),{prefixCls:i,inlineCollapsed:m,theme:d}=a,f=O.useFullPath();let c;if(l){const q=e.isValidElement(n)&&n.type==="span";c=e.createElement(e.Fragment,null,N.cloneElement(l,{className:o(e.isValidElement(l)?(s=l.props)===null||s===void 0?void 0:s.className:"",`${i}-item-icon`)}),q?n:e.createElement("span",{className:`${i}-title-content`},n))}else c=m&&!f.length&&n&&typeof n=="string"?e.createElement("div",{className:`${i}-inline-collapsed-noicon`},n.charAt(0)):e.createElement("span",{className:`${i}-title-content`},n);const g=e.useMemo(()=>Object.assign(Object.assign({},a),{firstLevel:!1}),[a]),[b]=E.useZIndex("Menu");return e.createElement(u.Provider,{value:g},e.createElement(y,Object.assign({},v(t,["icon"]),{title:c,popupClassName:o(i,r,`${i}-${p||d}`),popupStyle:Object.assign({zIndex:b},t.popupStyle)})))};
