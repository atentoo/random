"use strict";const be=require("react"),A=require("../../../../_virtual/index.cjs"),ge=require("../../../rc-tooltip/es/Tooltip.cjs"),Ce=require("../../../rc-util/es/hooks/useMergedState.cjs"),Oe=require("../_util/ContextIsolator.cjs"),Ne=require("../_util/hooks/useZIndex.cjs"),qe=require("../_util/motion.cjs"),Pe=require("../_util/placements.cjs"),H=require("../_util/reactNode.cjs"),we=require("../_util/warning.cjs"),je=require("../_util/zindexContext.cjs");require("../../../@ant-design/cssinjs/es/extractStyle.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useCacheToken.cjs"),require("../../../@ant-design/cssinjs/es/StyleContext.cjs"),require("../../../@ant-design/cssinjs/es/theme/createTheme.cjs"),require("../../../rc-util/es/warning.cjs"),require("../../../@ant-design/cssinjs/es/theme/ThemeCache.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useCompatibleInsertionEffect.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useEffectCleanupRegister.cjs"),require("../../../@ant-design/cssinjs/es/hooks/useHMR.cjs"),require("../../../@ant-design/cssinjs/es/transformers/legacyLogicalProperties.cjs"),require("../../../rc-util/es/ref.cjs"),require("../../../@ant-design/cssinjs-utils/es/util/statistic.cjs"),require("../../../@ant-design/cssinjs-utils/es/_util/hooks/useUniqueMemo.cjs");const Ee=require("../theme/useToken.cjs"),Ae=require("./PurePanel.cjs"),he=require("./style/index.cjs"),Ve=require("./util.cjs"),De=require("../config-provider/context.cjs");function Se(e){const a=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(a,n,o.get?o:{enumerable:!0,get:()=>e[n]})}}return a.default=e,Object.freeze(a)}const l=Se(be);var Te=function(e,a){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&a.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)a.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};const h=l.forwardRef((e,a)=>{var n,o;const{prefixCls:i,openClassName:R,getTooltipContainer:F,color:L,overlayInnerStyle:M,children:d,afterOpenChange:V,afterVisibleChange:W,destroyTooltipOnHide:C,arrow:s=!0,title:c,overlay:O,builtinPlacements:D,arrowPointAtCenter:N=!1,autoAdjustOverflow:$=!0,motion:xe,getPopupContainer:U,placement:X="top",mouseEnterDelay:k=.1,mouseLeaveDelay:B=.1,overlayStyle:Y,rootClassName:Z,overlayClassName:G,styles:m,classNames:y}=e,S=Te(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),T=!!s,[,v]=Ee.default(),{getPopupContainer:J,getPrefixCls:x,direction:K,className:Q,style:ee,classNames:I,styles:_}=De.useComponentConfig("tooltip"),f=we.devUseWarning("Tooltip"),b=l.useRef(null),z=()=>{var r;(r=b.current)===null||r===void 0||r.forceAlign()};l.useImperativeHandle(a,()=>{var r,t;return{forceAlign:z,forcePopupAlign:()=>{f.deprecated(!1,"forcePopupAlign","forceAlign"),z()},nativeElement:(r=b.current)===null||r===void 0?void 0:r.nativeElement,popupElement:(t=b.current)===null||t===void 0?void 0:t.popupElement}}),process.env.NODE_ENV!=="production"&&([["visible","open"],["defaultVisible","defaultOpen"],["onVisibleChange","onOpenChange"],["afterVisibleChange","afterOpenChange"],["arrowPointAtCenter","arrow={{ pointAtCenter: true }}"],["overlayStyle","styles={{ root: {} }}"],["overlayInnerStyle","styles={{ body: {} }}"],["overlayClassName",'classNames={{ root: "" }}']].forEach(r=>{let[t,u]=r;f.deprecated(!(t in e),t,u)}),process.env.NODE_ENV!=="production"&&f(!C||typeof C=="boolean","usage","`destroyTooltipOnHide` no need config `keepParent` anymore. Please use `boolean` value directly."),process.env.NODE_ENV!=="production"&&f(!s||typeof s=="boolean"||!("arrowPointAtCenter"in s),"deprecated","`arrowPointAtCenter` in `arrow` is deprecated. Please use `pointAtCenter` instead."));const[oe,re]=Ce(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(o=e.defaultOpen)!==null&&o!==void 0?o:e.defaultVisible}),q=!c&&!O&&c!==0,te=l.useMemo(()=>{var r,t;let u=N;return typeof s=="object"&&(u=(t=(r=s.pointAtCenter)!==null&&r!==void 0?r:s.arrowPointAtCenter)!==null&&t!==void 0?t:N),D||Pe.default({arrowPointAtCenter:u,autoAdjustOverflow:$,arrowWidth:T?v.sizePopupArrow:0,borderRadius:v.borderRadius,offset:v.marginXXS,visibleFirst:!0})},[N,s,D,v]),P=l.useMemo(()=>c===0?c:O||c||"",[O,c]),ne=l.createElement(Oe,{space:!0},typeof P=="function"?P():P),p=x("tooltip",i),le=x(),ae=e["data-popover-inject"];let w=oe;"open"in e||"visible"in e||!q||(w=!1);const j=l.isValidElement(d)&&!H.isFragment(d)?d:l.createElement("span",null,d),g=j.props,ie=g.className&&typeof g.className!="string"?g.className:A(g.className,R||`${p}-open`),[se,ue,ce]=he.default(p,!ae),E=Ve.parseColor(p,L),pe=E.arrowStyle,de=A(G,{[`${p}-rtl`]:K==="rtl"},E.className,Z,ue,ce,Q,I.root,y==null?void 0:y.root),me=A(I.body,y==null?void 0:y.body),[ye,ve]=Ne.useZIndex("Tooltip",S.zIndex),fe=l.createElement(ge,Object.assign({},S,{zIndex:ye,showArrow:T,placement:X,mouseEnterDelay:k,mouseLeaveDelay:B,prefixCls:p,classNames:{root:de,body:me},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pe),_.root),ee),Y),m==null?void 0:m.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},_.body),M),m==null?void 0:m.body),E.overlayStyle)},getTooltipContainer:U||F||J,ref:b,builtinPlacements:te,overlay:ne,visible:w,onVisibleChange:r=>{var t,u;re(!q&&r),q||((t=e.onOpenChange)===null||t===void 0||t.call(e,r),(u=e.onVisibleChange)===null||u===void 0||u.call(e,r))},afterVisibleChange:V??W,arrowContent:l.createElement("span",{className:`${p}-arrow-content`}),motion:{motionName:qe.getTransitionName(le,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!C}),w?H.cloneElement(j,{className:ie}):j);return se(l.createElement(je.Provider,{value:ve},fe))});process.env.NODE_ENV!=="production"&&(h.displayName="Tooltip"),h._InternalPanelDoNotUseOrYouWillBeFired=Ae,module.exports=h;
