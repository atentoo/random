"use strict";const k=require("../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),_=require("react"),q=require("../../../../_virtual/index.cjs"),z=require("../../../rc-motion/es/CSSMotion.cjs"),F=require("../../../rc-motion/es/CSSMotionList.cjs"),$=require("../_util/motion.cjs"),T=require("../config-provider/hooks/useCSSVarCls.cjs"),A=require("./context.cjs"),O=require("./hooks/useDebounce.cjs"),B=require("./style/index.cjs");function G(t){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const l=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,l.get?l:{enumerable:!0,get:()=>t[n]})}}return r.default=t,Object.freeze(r)}const a=G(_),j=[];function c(t,r,n){return{key:typeof t=="string"?t:`${r}-${arguments.length>3&&arguments[3]!==void 0?arguments[3]:0}`,error:t,errorStatus:n}}module.exports=t=>{let{help:r,helpStatus:n,errors:l=j,warnings:N=j,className:E,fieldId:m,onVisibleChanged:w}=t;const{prefixCls:o}=a.useContext(A.FormItemPrefixContext),f=`${o}-item-explain`,g=T(o),[x,v,C]=B.default(o,g),S=a.useMemo(()=>$.default(o),[o]),d=O(l),p=O(N),u=a.useMemo(()=>r!=null?[c(r,"help",n)]:[].concat(k(d.map((s,e)=>c(s,"error","error",e))),k(p.map((s,e)=>c(s,"warning","warning",e)))),[r,n,d,p]),y=a.useMemo(()=>{const s={};return u.forEach(e=>{let{key:i}=e;s[i]=(s[i]||0)+1}),u.map((e,i)=>Object.assign(Object.assign({},e),{key:s[e.key]>1?`${e.key}-fallback-${i}`:e.key}))},[u]),b={};return m&&(b.id=`${m}_help`),x(a.createElement(z.default,{motionDeadline:S.motionDeadline,motionName:`${o}-show-help`,visible:!!y.length,onVisibleChanged:w},s=>{const{className:e,style:i}=s;return a.createElement("div",Object.assign({},b,{className:q(f,e,C,g,E,v),style:i}),a.createElement(F.default,Object.assign({keys:y},$.default(o),{motionName:`${o}-show-help-item`,component:!1}),D=>{const{key:M,error:P,errorStatus:h,className:I,style:V}=D;return a.createElement("div",{key:M,className:q(I,{[`${f}-${h}`]:h}),style:V},P)}))}))};
