"use strict";const g=require("react");require("../../../../rc-field-form/es/index.cjs");const O=require("../../../../rc-util/es/Dom/findDOMNode.cjs"),b=require("../../../../scroll-into-view-if-needed/dist/index.cjs"),l=require("../util.cjs"),p=require("../../../../rc-field-form/es/useForm.cjs");function y(e){const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,t.get?t:{enumerable:!0,get:()=>e[n]})}}return o.default=e,Object.freeze(o)}const a=y(g);var m=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)o.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]])}return n};function f(e){return l.toArray(e).join("_")}function d(e,o){const n=o.getFieldInstance(e),t=O.getDOM(n);if(t)return t;const r=l.getFieldId(l.toArray(e),o.__INTERNAL__.name);return r?document.getElementById(r):void 0}module.exports=function(e){const[o]=p.default(),n=a.useRef({}),t=a.useMemo(()=>e??Object.assign(Object.assign({},o),{__INTERNAL__:{itemRef:r=>c=>{const u=f(r);c?n.current[u]=c:delete n.current[u]}},scrollToField:function(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:u}=c,i=m(c,["focus"]),s=d(r,t);s&&(b(s,Object.assign({scrollMode:"if-needed",block:"nearest"},i)),u&&t.focusField(r))},focusField:r=>{var c,u;const i=t.getFieldInstance(r);typeof(i==null?void 0:i.focus)=="function"?i.focus():(u=(c=d(r,t))===null||c===void 0?void 0:c.focus)===null||u===void 0||u.call(c)},getFieldInstance:r=>{const c=f(r);return n.current[c]}}),[e,o]);return[t]};
