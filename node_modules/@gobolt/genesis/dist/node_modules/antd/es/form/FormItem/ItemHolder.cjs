"use strict";const D=require("react"),z=require("../../../../../_virtual/index.cjs"),T=require("../../../../rc-util/es/Dom/isVisible.cjs"),A=require("../../../../rc-util/es/hooks/useLayoutEffect.cjs"),K=require("../../../../rc-util/es/omit.cjs"),L=require("../../grid/row.cjs"),w=require("../context.cjs"),U=require("../FormItemInput.cjs"),W=require("../FormItemLabel.cjs"),S=require("../hooks/useDebounce.cjs"),G=require("../util.cjs"),H=require("./StatusProvider.cjs");function J(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const l=J(D);var Q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};module.exports=function(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:h,errors:b,warnings:v,validateStatus:x,meta:s,hasFeedback:d,hidden:$,children:j,fieldId:E,required:y,isRequired:N,onSubItemMetaChange:F,layout:m}=e,I=Q(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),a=`${t}-item`,{requiredMark:P,vertical:k}=l.useContext(w.FormContext),M=k||m==="vertical",c=l.useRef(null),g=S(b),p=S(v),q=h!=null,O=!!(q||b.length||v.length),V=!!c.current&&T(c.current),[f,C]=l.useState(null);A.default(()=>{if(O&&c.current){const u=getComputedStyle(c.current);C(parseInt(u.marginBottom,10))}},[O,V]);const o=function(){let u=arguments.length>0&&arguments[0]!==void 0&&arguments[0];const _=u?g:s.errors,B=u?p:s.warnings;return G.getStatus(_,B,s,"",!!d,x)}(),R=z(a,n,r,{[`${a}-with-help`]:q||g.length||p.length,[`${a}-has-feedback`]:o&&d,[`${a}-has-success`]:o==="success",[`${a}-has-warning`]:o==="warning",[`${a}-has-error`]:o==="error",[`${a}-is-validating`]:o==="validating",[`${a}-hidden`]:$,[`${a}-${m}`]:m});return l.createElement("div",{className:R,style:i,ref:c},l.createElement(L,Object.assign({className:`${a}-row`},K(I,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),l.createElement(W,Object.assign({htmlFor:E},e,{requiredMark:P,required:y??N,prefixCls:t,vertical:M})),l.createElement(U,Object.assign({},e,s,{errors:g,warnings:p,prefixCls:t,status:o,help:h,marginBottom:f,onErrorVisibleChanged:u=>{u||C(null)}}),l.createElement(w.NoStyleItemContext.Provider,{value:F},l.createElement(H,{prefixCls:t,meta:s,errors:s.errors,warnings:s.warnings,hasFeedback:d,validateStatus:o},j)))),!!f&&l.createElement("div",{className:`${a}-margin-offset`,style:{marginBottom:-f}}))};
