"use strict";const d=require("react"),O=require("../../../../rc-util/es/raf.cjs"),b=require("../Input.cjs");function m(e){const c=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(c,n,t.get?t:{enumerable:!0,get:()=>e[n]})}}return c.default=e,Object.freeze(c)}const s=m(d);var w=function(e,c){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&c.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)c.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]])}return n};const j=s.forwardRef((e,c)=>{const{value:n,onChange:t,onActiveChange:r,index:l,mask:i}=e,f=w(e,["value","onChange","onActiveChange","index","mask"]),y=n&&typeof i=="string"?i:n,p=s.useRef(null);s.useImperativeHandle(c,()=>p.current);const u=()=>{O(()=>{var o;const a=(o=p.current)===null||o===void 0?void 0:o.input;document.activeElement===a&&a&&a.select()})};return s.createElement(b.default,Object.assign({type:i===!0?"password":"text"},f,{ref:p,value:y,onInput:o=>{t(l,o.target.value)},onFocus:u,onKeyDown:o=>{const{key:a,ctrlKey:v,metaKey:g}=o;a==="ArrowLeft"?r(l-1):a==="ArrowRight"?r(l+1):a==="z"&&(v||g)&&o.preventDefault(),u()},onKeyUp:o=>{o.key!=="Backspace"||n||r(l-1),u()},onMouseDown:u,onMouseUp:u}))});module.exports=j;
