"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("react"),u=require("../../../../_virtual/index.cjs"),oe=require("../../../rc-input/es/Input.cjs"),ue=require("../../../rc-util/es/ref.cjs"),R=require("../_util/ContextIsolator.cjs"),ie=require("../_util/getAllowClear.cjs"),y=require("../_util/statusUtils.cjs"),W=require("../_util/warning.cjs"),pe=require("../config-provider/context.cjs"),ce=require("../config-provider/DisabledContext.cjs"),de=require("../config-provider/hooks/useCSSVarCls.cjs"),fe=require("../config-provider/hooks/useSize.cjs"),me=require("../form/context.cjs"),ge=require("../form/hooks/useVariants.cjs"),be=require("../space/Compact.cjs"),Ce=require("./hooks/useRemovePasswordTimeout.cjs"),A=require("./style/index.cjs"),ye=require("./utils.cjs");var Oe=function(r,c){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&c.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var n=0;for(s=Object.getOwnPropertySymbols(r);n<s.length;n++)c.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(i[s[n]]=r[s[n]])}return i};const D=a.forwardRef((r,c)=>{const{prefixCls:i,bordered:s=!0,status:n,size:O,disabled:v,onBlur:N,onFocus:x,suffix:q,allowClear:w,addonAfter:E,addonBefore:$,className:V,style:k,styles:z,rootClassName:j,onChange:h,classNames:g,variant:M}=r,U=Oe(r,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);if(process.env.NODE_ENV!=="production"){const{deprecated:t}=W.devUseWarning("Input");t(!("bordered"in r),"bordered","variant")}const{getPrefixCls:Q,direction:p,allowClear:T,autoComplete:G,className:H,style:J,classNames:S,styles:K}=pe.useComponentConfig("input"),e=Q("input",i),b=a.useRef(null),I=de(e),[L,d,X]=A.useSharedStyle(e,j),[Y]=A.default(e,I),{compactSize:Z,compactItemClassnames:ee}=be.useCompactItemContext(e,p),o=fe(t=>{var l;return(l=O??Z)!==null&&l!==void 0?l:t}),re=a.useContext(ce.default),se=v??re,{status:te,hasFeedback:f,feedbackIcon:ae}=a.useContext(me.FormItemInputContext),_=y.getMergedStatus(te,n),m=ye.hasPrefixSuffix(r)||!!f,F=a.useRef(m);if(process.env.NODE_ENV!=="production"){const t=W.devUseWarning("Input");a.useEffect(()=>{var l;m&&!F.current&&process.env.NODE_ENV!=="production"&&t(document.activeElement===((l=b.current)===null||l===void 0?void 0:l.input),"usage","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),F.current=m},[m])}const C=Ce(b,!0),ne=(f||q)&&a.createElement(a.Fragment,null,q,f&&ae),le=ie(w??T),[B,P]=ge("input",M,s);return L(Y(a.createElement(oe,Object.assign({ref:ue.composeRef(c,b),prefixCls:e,autoComplete:G},U,{disabled:se,onBlur:t=>{C(),N==null||N(t)},onFocus:t=>{C(),x==null||x(t)},style:Object.assign(Object.assign({},J),k),styles:Object.assign(Object.assign({},K),z),suffix:ne,allowClear:le,className:u(V,j,X,I,ee,H),onChange:t=>{C(),h==null||h(t)},addonBefore:$&&a.createElement(R,{form:!0,space:!0},$),addonAfter:E&&a.createElement(R,{form:!0,space:!0},E),classNames:Object.assign(Object.assign(Object.assign({},g),S),{input:u({[`${e}-sm`]:o==="small",[`${e}-lg`]:o==="large",[`${e}-rtl`]:p==="rtl"},g==null?void 0:g.input,S.input,d),variant:u({[`${e}-${B}`]:P},y.getStatusClassNames(e,_)),affixWrapper:u({[`${e}-affix-wrapper-sm`]:o==="small",[`${e}-affix-wrapper-lg`]:o==="large",[`${e}-affix-wrapper-rtl`]:p==="rtl"},d),wrapper:u({[`${e}-group-rtl`]:p==="rtl"},d),groupWrapper:u({[`${e}-group-wrapper-sm`]:o==="small",[`${e}-group-wrapper-lg`]:o==="large",[`${e}-group-wrapper-rtl`]:p==="rtl",[`${e}-group-wrapper-${B}`]:P},y.getStatusClassNames(`${e}-group-wrapper`,_,f),d)})}))))});process.env.NODE_ENV!=="production"&&(D.displayName="Input"),exports.default=D;
