"use strict";const m=require("react"),be=require("../../../../@ant-design/icons/es/icons/CalendarOutlined.cjs"),Pe=require("../../../../@ant-design/icons/es/icons/ClockCircleOutlined.cjs"),T=require("../../../../../_virtual/index.cjs");require("../../../../rc-picker/es/PickerInput/RangePicker.cjs");const qe=require("../../../../rc-picker/es/PickerInput/SinglePicker.cjs");require("../../../../rc-picker/es/PickerPanel/index.cjs");const Oe=require("../../_util/ContextIsolator.cjs"),ve=require("../../_util/hooks/useZIndex.cjs"),K=require("../../_util/statusUtils.cjs"),ye=require("../../_util/warning.cjs");require("../../config-provider/index.cjs");const ke=require("../../config-provider/DisabledContext.cjs"),Ie=require("../../config-provider/hooks/useCSSVarCls.cjs"),xe=require("../../config-provider/hooks/useSize.cjs"),je=require("../../form/context.cjs"),Re=require("../../form/hooks/useVariants.cjs"),he=require("../../space/Compact.cjs"),De=require("../locale/en_US.cjs"),Se=require("../style/index.cjs"),M=require("../util.cjs"),s=require("./constant.cjs"),$e=require("./useComponents.cjs"),we=require("../../config-provider/context.cjs"),Te=require("../../locale/useLocale.cjs");function Ke(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const n=Ke(m);var Me=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]])}return o};module.exports=e=>{const t=(u,p)=>{const A=p===s.TIMEPICKER?"timePicker":"datePicker",E=m.forwardRef((i,W)=>{var g;const{prefixCls:F,getPopupContainer:H,components:Q,style:U,className:V,rootClassName:N,size:b,bordered:Y,placement:Z,placeholder:B,popupClassName:G,dropdownClassName:P,disabled:q,status:J,variant:L,onCalendarChange:O}=i,v=Me(i,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:y,direction:k,getPopupContainer:X,[A]:C}=m.useContext(we.ConfigContext),a=y("picker",F),{compactSize:ee,compactItemClassnames:re}=he.useCompactItemContext(a,k),I=n.useRef(null),[te,ae]=Re("datePicker",L,Y),f=Ie(a),[ne,x,j]=Se.default(a,f);m.useImperativeHandle(W,()=>I.current);const R=u||i.picker,se=y(),{onSelect:h,multiple:oe}=v,D=h&&u==="time"&&!oe;if(process.env.NODE_ENV!=="production"){const c=ye.devUseWarning(p||"DatePicker");process.env.NODE_ENV!=="production"&&c(u!=="quarter","deprecated",`DatePicker.${p} is legacy usage. Please use DatePicker[picker='${u}'] directly.`),c.deprecated(!P,"dropdownClassName","popupClassName"),c.deprecated(!("bordered"in i),"bordered","variant"),c.deprecated(!D,"onSelect","onCalendarChange")}const[ce,le]=M.useIcons(i,a),ie=$e(Q),S=xe(c=>{var d;return(d=b??ee)!==null&&d!==void 0?d:c}),ue=n.useContext(ke.default),pe=q??ue,de=m.useContext(je.FormItemInputContext),{hasFeedback:$,status:me,feedbackIcon:Ce}=de,ge=n.createElement(n.Fragment,null,R==="time"?n.createElement(Pe,null):n.createElement(be,null),$&&Ce),[fe]=Te("DatePicker",De),w=Object.assign(Object.assign({},fe),i.locale),[Ee]=ve.useZIndex("DatePicker",(g=i.popupStyle)===null||g===void 0?void 0:g.zIndex);return ne(n.createElement(Oe,{space:!0},n.createElement(qe,Object.assign({ref:I,placeholder:M.getPlaceholder(w,R,B),suffixIcon:ge,placement:Z,prevIcon:n.createElement("span",{className:`${a}-prev-icon`}),nextIcon:n.createElement("span",{className:`${a}-next-icon`}),superPrevIcon:n.createElement("span",{className:`${a}-super-prev-icon`}),superNextIcon:n.createElement("span",{className:`${a}-super-next-icon`}),transitionName:`${se}-slide-up`,picker:u,onCalendarChange:(c,d,Ne)=>{O==null||O(c,d,Ne),D&&h(c)}},{showToday:!0},v,{locale:w.lang,className:T({[`${a}-${S}`]:S,[`${a}-${te}`]:ae},K.getStatusClassNames(a,K.getMergedStatus(me,J),$),x,re,C==null?void 0:C.className,V,j,f,N),style:Object.assign(Object.assign({},C==null?void 0:C.style),U),prefixCls:a,getPopupContainer:H||X,generateConfig:e,components:ie,direction:k,disabled:pe,classNames:{popup:T(x,j,f,N,G||P)},styles:{popup:Object.assign(Object.assign({},i.popupStyle),{zIndex:Ee})},allowClear:ce,removeIcon:le}))))});return process.env.NODE_ENV!=="production"&&p&&(E.displayName=p),E},o=t(),r=t(s.WEEK,s.WEEKPICKER),l=t(s.MONTH,s.MONTHPICKER),z=t(s.YEAR,s.YEARPICKER),_=t(s.QUARTER,s.QUARTERPICKER);return{DatePicker:o,WeekPicker:r,MonthPicker:l,YearPicker:z,TimePicker:t(s.TIME,s.TIMEPICKER),QuarterPicker:_}};
