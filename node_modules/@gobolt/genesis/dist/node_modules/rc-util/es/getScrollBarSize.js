import { updateCSS as b, removeCSS as S } from "./Dom/dynamicCSS.js";
var c;
function s(t) {
  var r = "rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)), e = document.createElement("div");
  e.id = r;
  var i, a, o = e.style;
  if (o.position = "absolute", o.left = "0", o.top = "0", o.width = "100px", o.height = "100px", o.overflow = "scroll", t) {
    var l = getComputedStyle(t);
    o.scrollbarColor = l.scrollbarColor, o.scrollbarWidth = l.scrollbarWidth;
    var n = getComputedStyle(t, "::-webkit-scrollbar"), d = parseInt(n.width, 10), h = parseInt(n.height, 10);
    try {
      var u = d ? "width: ".concat(n.width, ";") : "", f = h ? "height: ".concat(n.height, ";") : "";
      b(`
#`.concat(r, `::-webkit-scrollbar {
`).concat(u, `
`).concat(f, `
}`), r);
    } catch (p) {
      console.error(p), i = d, a = h;
    }
  }
  document.body.appendChild(e);
  var g = t && i && !isNaN(i) ? i : e.offsetWidth - e.clientWidth, m = t && a && !isNaN(a) ? a : e.offsetHeight - e.clientHeight;
  return document.body.removeChild(e), S(r), { width: g, height: m };
}
function w(t) {
  return typeof document > "u" ? 0 : (c === void 0 && (c = s()), c.width);
}
function y(t) {
  return typeof document < "u" && t && t instanceof Element ? s(t) : { width: 0, height: 0 };
}
export {
  w as default,
  y as getTargetScrollBarSize
};
