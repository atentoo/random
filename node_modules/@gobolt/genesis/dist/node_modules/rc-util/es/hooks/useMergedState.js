import l from "../../../@babel/runtime/helpers/esm/slicedToArray.js";
import v from "./useEvent.js";
import { useLayoutUpdateEffect as y } from "./useLayoutEffect.js";
import g from "./useState.js";
function i(o) {
  return o !== void 0;
}
function k(o, h) {
  var e = h || {}, n = e.defaultValue, t = e.value, S = e.onChange, a = e.postState, V = g(function() {
    return i(t) ? t : i(n) ? typeof n == "function" ? n() : n : typeof o == "function" ? o() : o;
  }), c = l(V, 2), r = c[0], p = c[1], u = t !== void 0 ? t : r, j = a ? a(u) : u, x = v(S), C = g([u]), m = l(C, 2), d = m[0], E = m[1];
  return y(function() {
    var f = d[0];
    r !== f && x(r, f);
  }, [d]), y(function() {
    i(t) || p(t);
  }, [t]), [j, v(function(f, s) {
    p(f, s), E([u], s);
  })];
}
export {
  k as default
};
