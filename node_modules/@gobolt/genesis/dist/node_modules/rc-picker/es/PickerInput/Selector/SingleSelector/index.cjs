"use strict";const l=require("../../../../../@babel/runtime/helpers/esm/defineProperty.cjs"),F=require("../../../../../@babel/runtime/helpers/esm/extends.cjs"),N=require("../../../../../@babel/runtime/helpers/esm/objectSpread2.cjs"),U=require("../../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),W=require("../../../../../@babel/runtime/helpers/esm/objectWithoutProperties.cjs"),X=require("../../../../../../_virtual/index.cjs"),Y=require("react"),Z=require("../../../utils/dateUtil.cjs"),$=require("../../context.cjs"),v=require("../Icon.cjs"),ee=require("../Input.cjs"),ne=require("../hooks/useInputProps.cjs"),re=require("../hooks/useRootProps.cjs"),ae=require("./MultipleDates.cjs");function te(e){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const u=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>e[o]})}}return i.default=e,Object.freeze(i)}const r=te(Y);var oe=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function ie(e,i){e.id;var o=e.open,u=e.prefix,d=e.clearIcon,m=e.suffixIcon;e.activeHelp,e.allHelp;var p=e.focused;e.onFocus,e.onBlur,e.onKeyDown;var w=e.locale,k=e.generateConfig,R=e.placeholder,j=e.className,H=e.style,T=e.onClick,C=e.onClear,B=e.internalPicker,s=e.value,g=e.onChange,M=e.onSubmit;e.onInputChange;var I=e.multiple,P=e.maxTagCount;e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid;var f=e.disabled,K=e.invalid;e.inputReadOnly;var _=e.direction;e.onOpenChange;var x=e.onMouseDown;e.required,e["aria-required"];var b=e.autoFocus,q=e.tabIndex,z=e.removeIcon,A=W(e,oe),V=_==="rtl",a=r.useContext($).prefixCls,y=r.useRef(),c=r.useRef();r.useImperativeHandle(i,function(){return{nativeElement:y.current,focus:function(n){var t;(t=c.current)===null||t===void 0||t.focus(n)},blur:function(){var n;(n=c.current)===null||n===void 0||n.blur()}}});var G=re(A),J=ne(N(N({},e),{},{onChange:function(n){g([n])}}),function(n){return{value:n.valueTexts[0]||"",active:p}}),E=U(J,2),L=E[0],O=E[1],h=!(!d||!s.length||f),Q=I?r.createElement(r.Fragment,null,r.createElement(ae,{prefixCls:a,value:s,onRemove:function(n){var t=s.filter(function(D){return D&&!Z.isSame(k,w,D,n,B)});g(t),o||M()},formatDate:O,maxTagCount:P,disabled:f,removeIcon:z,placeholder:R}),r.createElement("input",{className:"".concat(a,"-multiple-input"),value:s.map(O).join(","),ref:c,readOnly:!0,autoFocus:b,tabIndex:q}),r.createElement(v.default,{type:"suffix",icon:m}),h&&r.createElement(v.ClearIcon,{icon:d,onClear:C})):r.createElement(ee,F({ref:c},L(),{autoFocus:b,tabIndex:q,suffixIcon:m,clearIcon:h&&r.createElement(v.ClearIcon,{icon:d,onClear:C}),showActiveCls:!1}));return r.createElement("div",F({},G,{className:X(a,l(l(l(l(l({},"".concat(a,"-multiple"),I),"".concat(a,"-focused"),p),"".concat(a,"-disabled"),f),"".concat(a,"-invalid"),K),"".concat(a,"-rtl"),V),j),style:H,ref:y,onClick:T,onMouseDown:function(n){var t;n.target!==((t=c.current)===null||t===void 0?void 0:t.inputElement)&&n.preventDefault(),x==null||x(n)}}),u&&r.createElement("div",{className:"".concat(a,"-prefix")},u),Q)}var S=r.forwardRef(ie);process.env.NODE_ENV!=="production"&&(S.displayName="SingleSelector"),module.exports=S;
