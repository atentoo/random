"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),V=require("../../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),E=require("../../../../rc-util/es/hooks/useEvent.cjs"),ee=require("../../../../rc-util/es/hooks/useMergedState.cjs");require("../../../../rc-util/es/ref.cjs"),require("../../../../rc-util/es/warning.cjs");const re=require("react"),H=require("../../hooks/useSyncState.cjs"),z=require("../../utils/dateUtil.cjs"),ne=require("../../utils/miscUtil.cjs"),te=require("./useLockEffect.cjs");function ue(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const t=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,t.get?t:{enumerable:!0,get:()=>e[o]})}}return n.default=e,Object.freeze(n)}const J=ue(re);var oe=[];function K(e,n,o){return[function(t){return t.map(function(f){return z.formatValue(f,{generateConfig:e,locale:n,format:o[0]})})},function(t,f){for(var l=Math.max(t.length,f.length),g=-1,i=0;i<l;i+=1){var d=t[i]||null,q=f[i]||null;if(d!==q&&!z.isSameTimestamp(e,d,q)){g=i;break}}return[g<0,g!==0]}]}function L(e,n){return V(e).sort(function(o,t){return n.isAfter(o,t)?1:-1})}exports.default=function(e,n,o,t,f,l,g,i,d,q){var m=e.generateConfig,I=e.locale,T=e.picker,O=e.onChange,S=e.allowEmpty,x=e.order,D=!l.some(function(c){return c})&&x,U=K(m,I,g),k=s(U,2),A=k[0],_=k[1],w=H(n),C=s(w,2),v=C[0],u=C[1],a=E(function(){u(n)});J.useEffect(function(){a()},[n]);var p=E(function(c){var h=c===null,r=V(c||v());if(h)for(var Q=Math.max(l.length,r.length),P=0;P<Q;P+=1)l[P]||(r[P]=null);D&&r[0]&&r[1]&&(r=L(r,m)),f(r);var N=s(r,2),M=N[0],j=N[1],B=!M,F=!j,R=!S||(!B||S[0])&&(!F||S[1]),W=!x||B||F||z.isSame(m,I,M,j,T)||m.isAfter(j,M),X=(l[0]||!M||!q(M,{activeIndex:0}))&&(l[1]||!j||!q(j,{from:M,activeIndex:1})),G=h||R&&W&&X;if(G){o(r);var Y=_(r,n),Z=s(Y,1)[0];O&&!Z&&O(h&&r.every(function($){return!$})?null:r,A(r))}return G}),b=E(function(c,h){var r=ne.fillIndex(v(),c,t()[c]);u(r),h&&p()}),y=!i&&!d;return te(!y,function(){y&&(p(),f(n),a())},2),[b,p]},exports.useInnerValue=function(e,n,o,t,f,l,g,i,d){var q=ee(l,{value:g}),m=s(q,2),I=m[0],T=m[1],O=I||oe,S=function(v){var u=H(v),a=s(u,2),p=a[0],b=a[1],y=E(function(){b(v)});return J.useEffect(function(){y()},[v]),[p,b]}(O),x=s(S,2),D=x[0],U=x[1],k=K(e,n,o),A=s(k,2),_=A[0],w=A[1],C=E(function(v){var u=V(v);if(t)for(var a=0;a<2;a+=1)u[a]=u[a]||null;else f&&(u=L(u.filter(function(r){return r}),e));var p=w(D(),u),b=s(p,2),y=b[0],c=b[1];if(!y&&(U(u),i)){var h=_(u);i(u,h,{range:c?"end":"start"})}});return[O,T,D,C,function(){d&&d(D())}]};
