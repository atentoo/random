import j from "../../../../@babel/runtime/helpers/esm/slicedToArray.js";
import a from "../../../../rc-util/es/hooks/useEvent.js";
import x from "../../../../rc-util/es/hooks/useMergedState.js";
import "../../../../rc-util/es/ref.js";
import "../../../../rc-util/es/warning.js";
import p from "../../../../rc-util/es/raf.js";
import t from "react";
function k(e, l, u) {
  var s = x(l, { value: e }), n = j(s, 2), o = n[0], R = n[1], r = t.useRef(e), f = t.useRef(), c = function() {
    p.cancel(f.current);
  }, i = a(function() {
    R(r.current), u && o !== r.current && u(r.current);
  }), d = a(function(m, v) {
    c(), r.current = m, m || v ? i() : f.current = p(i);
  });
  return t.useEffect(function() {
    return c;
  }, []), [o, d];
}
export {
  k as default
};
