"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const P=require("../../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),G=require("react"),_=require("../../../../rc-util/es/hooks/useMergedState.cjs");require("../../../../rc-util/es/ref.cjs"),require("../../../../rc-util/es/warning.cjs");const A=require("../../../../rc-util/es/hooks/useLayoutEffect.cjs"),d=require("../../utils/dateUtil.cjs");function H(e){const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(u,t,a.get?a:{enumerable:!0,get:()=>e[t]})}}return u.default=e,Object.freeze(u)}const S=H(G);function v(e,u,t,a){switch(u){case"date":case"week":return e.addMonth(t,a);case"month":case"quarter":return e.addYear(t,a);case"year":return e.addYear(t,10*a);case"decade":return e.addYear(t,100*a);default:return t}}var w=[];exports.default=function(e,u,t,a,s,V,o,b){var c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:w,O=arguments.length>10&&arguments[10]!==void 0?arguments[10]:w,j=arguments.length>11?arguments[11]:void 0,y=arguments.length>12?arguments[12]:void 0,h=arguments.length>13?arguments[13]:void 0,q=o==="time",r=V||0,D=function(n){var l=e.getNow();return q&&(l=d.fillTime(e,l)),c[n]||t[n]||l},Y=P(arguments.length>9&&arguments[9]!==void 0?arguments[9]:w,2),x=Y[0],z=Y[1],C=_(function(){return D(0)},{value:x}),k=P(C,2),f=k[0],E=k[1],R=_(function(){return D(1)},{value:z}),T=P(R,2),g=T[0],B=T[1],F=S.useMemo(function(){var n=[f,g][r];return q?n:d.fillTime(e,n,O[r])},[q,f,g,r,e,O]),p=function(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel";(0,[E,B][r])(n);var i=[f,g];i[r]=n,!j||d.isSame(e,u,f,i[0],o)&&d.isSame(e,u,g,i[1],o)||j(i,{source:l,range:r===1?"end":"start",mode:a})},M=S.useRef(null);return A.default(function(){if(s&&!c[r]){var n=q?null:e.getNow();if(M.current!==null&&M.current!==r?n=[f,g][1^r]:t[r]?n=r===0?t[0]:function(i,m){if(b){var N={date:"month",week:"month",month:"year",quarter:"year"}[o];if(N&&!d.isSame(e,u,i,m,N)||o==="year"&&i&&Math.floor(e.getYear(i)/10)!==Math.floor(e.getYear(m)/10))return v(e,o,m,-1)}return m}(t[0],t[1]):t[1^r]&&(n=t[1^r]),n){y&&e.isAfter(y,n)&&(n=y);var l=b?v(e,o,n,1):n;h&&e.isAfter(l,h)&&(n=b?v(e,o,h,-1):h),p(n,"reset")}}},[s,r,t[r]]),S.useEffect(function(){M.current=s?r:null},[s,r]),A.default(function(){s&&c&&c[r]&&p(c[r],"reset")},[s,r]),[F,p]},exports.offsetPanelDate=v;
