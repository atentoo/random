"use strict";const E=require("../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),p=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),O=require("react"),v=require("../../../rc-util/es/hooks/useLayoutEffect.cjs"),j=require("../../../rc-util/es/Dom/canUseDom.cjs"),h=require("./Context.cjs");function y(t){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const u in t)if(u!=="default"){const n=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(r,u,n.get?n:{enumerable:!0,get:()=>t[u]})}}return r.default=t,Object.freeze(r)}const o=y(O);var b=[];module.exports=function(t,r){var u=o.useState(function(){if(!j())return null;var e=document.createElement("div");return process.env.NODE_ENV!=="production"&&r&&e.setAttribute("data-debug",r),e}),n=p(u,1)[0],c=o.useRef(!1),i=o.useContext(h),m=o.useState(b),f=p(m,2),a=f[0],l=f[1],g=i||(c.current?void 0:function(e){l(function(q){return[e].concat(E(q))})});function d(){n.parentElement||document.body.appendChild(n),c.current=!0}function s(){var e;(e=n.parentElement)===null||e===void 0||e.removeChild(n),c.current=!1}return v.default(function(){return t?i?i(d):d():s(),s},[t]),v.default(function(){a.length&&(a.forEach(function(e){return e()}),l(b))},[a]),[n,g]};
