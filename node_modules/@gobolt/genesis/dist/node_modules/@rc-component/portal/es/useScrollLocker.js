import m from "../../../@babel/runtime/helpers/esm/slicedToArray.js";
import * as f from "react";
import { updateCSS as l, removeCSS as t } from "../../../rc-util/es/Dom/dynamicCSS.js";
import u from "../../../rc-util/es/hooks/useLayoutEffect.js";
import { getTargetScrollBarSize as d } from "../../../rc-util/es/getScrollBarSize.js";
import { isBodyOverflowing as s } from "./util.js";
var p = "rc-util-locker-".concat(Date.now()), n = 0;
function g(c) {
  var r = !!c, e = f.useState(function() {
    return n += 1, "".concat(p, "_").concat(n);
  }), o = m(e, 1)[0];
  u(function() {
    if (r) {
      var a = d(document.body).width, i = s();
      l(`
html body {
  overflow-y: hidden;
  `.concat(i ? "width: calc(100% - ".concat(a, "px);") : "", `
}`), o);
    } else t(o);
    return function() {
      t(o);
    };
  }, [r, o]);
}
export {
  g as default
};
