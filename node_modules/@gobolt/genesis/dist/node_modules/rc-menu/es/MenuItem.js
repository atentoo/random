import E from "../../@babel/runtime/helpers/esm/defineProperty.js";
import d from "../../@babel/runtime/helpers/esm/objectSpread2.js";
import Z from "../../@babel/runtime/helpers/esm/toConsumableArray.js";
import M from "../../@babel/runtime/helpers/esm/extends.js";
import C from "../../@babel/runtime/helpers/esm/objectWithoutProperties.js";
import $ from "../../@babel/runtime/helpers/esm/classCallCheck.js";
import ee from "../../@babel/runtime/helpers/esm/createClass.js";
import te from "../../@babel/runtime/helpers/esm/inherits.js";
import oe from "../../@babel/runtime/helpers/esm/createSuper.js";
import re from "../../../_virtual/index.js";
import ne from "../../rc-overflow/es/Overflow.js";
import me from "../../rc-util/es/KeyCode.js";
import O from "../../rc-util/es/omit.js";
import { useComposeRef as ie } from "../../rc-util/es/ref.js";
import { warningOnce as T } from "../../rc-util/es/warning.js";
import * as o from "react";
import { useMenuId as ae } from "./context/IdContext.js";
import { MenuContext as se } from "./context/MenuContext.js";
import { useMeasure as le, useFullPath as _ } from "./context/PathContext.js";
import ue from "./context/PrivateContext.js";
import fe from "./hooks/useActive.js";
import ce from "./hooks/useDirectionStyle.js";
import pe from "./Icon.js";
import { warnItemProp as L } from "./utils/warnUtil.js";
var de = ["title", "attribute", "elementRef"], ve = ["style", "className", "eventKey", "warnKey", "disabled", "itemIcon", "children", "role", "onMouseEnter", "onMouseLeave", "onClick", "onKeyDown", "onFocus"], ye = ["active"], he = function(e) {
  te(r, e);
  var a = oe(r);
  function r() {
    return $(this, r), a.apply(this, arguments);
  }
  return ee(r, [{ key: "render", value: function() {
    var n = this.props, t = n.title, u = n.attribute, s = n.elementRef, v = C(n, de), y = O(v, ["eventKey", "popupClassName", "popupOffset", "onTitleClick"]);
    return T(!u, "`attribute` of Menu.Item is deprecated. Please pass attribute directly."), o.createElement(ne.Item, M({}, u, { title: typeof t == "string" ? t : void 0 }, y, { ref: s }));
  } }]), r;
}(o.Component), Ie = o.forwardRef(function(e, a) {
  var r = e.style, n = e.className, t = e.eventKey, u = e.warnKey, s = e.disabled, v = e.itemIcon, y = e.children, b = e.role, A = e.onMouseEnter, S = e.onMouseLeave, f = e.onClick, w = e.onKeyDown, R = e.onFocus, V = C(e, ve), k = ae(t), i = o.useContext(se), j = i.prefixCls, K = i.onItemClick, q = i.disabled, z = i.overflowDisabled, B = i.itemIcon, G = i.selectedKeys, H = i.onActive, g = o.useContext(ue)._internalRenderMenuItem, c = "".concat(j, "-item"), x = o.useRef(), J = o.useRef(), h = q || s, Q = ie(a, J), N = _(t);
  process.env.NODE_ENV !== "production" && u && T(!1, "MenuItem should not leave undefined `key`.");
  var P = function(m) {
    return { key: t, keyPath: Z(N).reverse(), item: x.current, domEvent: m };
  }, U = v || B, D = fe(t, h, A, S), W = D.active, X = C(D, ye), p = G.includes(t), Y = ce(N.length), F = {};
  e.role === "option" && (F["aria-selected"] = p);
  var I = o.createElement(he, M({ ref: x, elementRef: Q, role: b === null ? "none" : b || "menuitem", tabIndex: s ? null : -1, "data-menu-id": z && k ? null : k }, O(V, ["extra"]), X, F, { component: "li", "aria-disabled": s, style: d(d({}, Y), r), className: re(c, E(E(E({}, "".concat(c, "-active"), W), "".concat(c, "-selected"), p), "".concat(c, "-disabled"), h), n), onClick: function(m) {
    if (!h) {
      var l = P(m);
      f == null || f(L(l)), K(l);
    }
  }, onKeyDown: function(m) {
    if (w == null || w(m), m.which === me.ENTER) {
      var l = P(m);
      f == null || f(L(l)), K(l);
    }
  }, onFocus: function(m) {
    H(t), R == null || R(m);
  } }), y, o.createElement(pe, { props: d(d({}, e), {}, { isSelected: p }), icon: U }));
  return g && (I = g(I, e, { selected: p })), I;
});
function Ee(e, a) {
  var r = e.eventKey, n = le(), t = _(r);
  return o.useEffect(function() {
    if (n) return n.registerPath(r, t), function() {
      n.unregisterPath(r, t);
    };
  }, [t]), n ? null : o.createElement(Ie, M({}, e, { ref: a }));
}
const Be = o.forwardRef(Ee);
export {
  Be as default
};
