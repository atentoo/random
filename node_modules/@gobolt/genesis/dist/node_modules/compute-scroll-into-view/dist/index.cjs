"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const $=t=>typeof t=="object"&&t!=null&&t.nodeType===1,tt=(t,o)=>(!o||t!=="hidden")&&t!=="visible"&&t!=="clip",L=(t,o)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const s=getComputedStyle(t,null);return tt(s.overflowY,o)||tt(s.overflowX,o)||(c=>{const h=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(c);return!!h&&(h.clientHeight<c.scrollHeight||h.clientWidth<c.scrollWidth)})(t)}return!1},j=(t,o,s,c,h,l,u,n)=>l<t&&u>o||l>t&&u<o?0:l<=t&&n<=s||u>=o&&n>=s?l-t-c:u>o&&n<s||l<t&&n>s?u-o+h:0,nt=t=>{const o=t.parentElement;return o??(t.getRootNode().host||null)};exports.compute=(t,o)=>{var s,c,h,l;if(typeof document>"u")return[];const{scrollMode:u,block:n,inline:a,boundary:O,skipOverflowHiddenElements:et}=o,ot=typeof O=="function"?O:m=>m!==O;if(!$(t))throw new TypeError("Invalid target");const X=document.scrollingElement||document.documentElement,M=[];let i=t;for(;$(i)&&ot(i);){if(i=nt(i),i===X){M.push(i);break}i!=null&&i===document.body&&L(i)&&!L(document.documentElement)||i!=null&&L(i,et)&&M.push(i)}const p=(c=(s=window.visualViewport)==null?void 0:s.width)!=null?c:innerWidth,w=(l=(h=window.visualViewport)==null?void 0:h.height)!=null?l:innerHeight,{scrollX:W,scrollY:b}=window,{height:y,width:H,top:v,right:Y,bottom:N,left:E}=t.getBoundingClientRect(),{top:J,right:K,bottom:Q,left:U}=(m=>{const e=window.getComputedStyle(m);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let r=n==="start"||n==="nearest"?v-J:n==="end"?N+Q:v+y/2-J+Q,d=a==="center"?E+H/2-U+K:a==="end"?Y+K:E-U;const P=[];for(let m=0;m<M.length;m++){const e=M[m],{height:S,width:T,top:B,right:q,bottom:z,left:C}=e.getBoundingClientRect();if(u==="if-needed"&&v>=0&&E>=0&&N<=w&&Y<=p&&(e===X&&!L(e)||v>=B&&N<=z&&E>=C&&Y<=q))return P;const F=getComputedStyle(e),I=parseInt(F.borderLeftWidth,10),R=parseInt(F.borderTopWidth,10),V=parseInt(F.borderRightWidth,10),x=parseInt(F.borderBottomWidth,10);let f=0,g=0;const k="offsetWidth"in e?e.offsetWidth-e.clientWidth-I-V:0,D="offsetHeight"in e?e.offsetHeight-e.clientHeight-R-x:0,A="offsetWidth"in e?e.offsetWidth===0?0:T/e.offsetWidth:0,G="offsetHeight"in e?e.offsetHeight===0?0:S/e.offsetHeight:0;if(X===e)f=n==="start"?r:n==="end"?r-w:n==="nearest"?j(b,b+w,w,R,x,b+r,b+r+y,y):r-w/2,g=a==="start"?d:a==="center"?d-p/2:a==="end"?d-p:j(W,W+p,p,I,V,W+d,W+d+H,H),f=Math.max(0,f+b),g=Math.max(0,g+W);else{f=n==="start"?r-B-R:n==="end"?r-z+x+D:n==="nearest"?j(B,z,S,R,x+D,r,r+y,y):r-(B+S/2)+D/2,g=a==="start"?d-C-I:a==="center"?d-(C+T/2)+k/2:a==="end"?d-q+V+k:j(C,q,T,I,V+k,d,d+H,H);const{scrollLeft:Z,scrollTop:_}=e;f=G===0?0:Math.max(0,Math.min(_+f/G,e.scrollHeight-S/G+D)),g=A===0?0:Math.max(0,Math.min(Z+g/A,e.scrollWidth-T/A+k)),r+=_-f,d+=Z-g}P.push({el:e,top:f,left:g})}return P};
