"use strict";const h=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),a=require("react");function I(o){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const i in o)if(i!=="default"){const v=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(s,i,v.get?v:{enumerable:!0,get:()=>o[i]})}}return s.default=o,Object.freeze(s)}const R=I(a);var S=Math.pow(.995,20);module.exports=function(o,s){var i=a.useState(),v=h(i,2),d=v[0],l=v[1],L=a.useState(0),M=h(L,2),g=M[0],O=M[1],P=a.useState(0),x=h(P,2),y=x[0],j=x[1],D=a.useState(),w=h(D,2),b=w[0],E=w[1],m=a.useRef(),p=a.useRef(),f=a.useRef(null);f.current={onTouchStart:function(n){var t=n.touches[0],e=t.screenX,r=t.screenY;l({x:e,y:r}),window.clearInterval(m.current)},onTouchMove:function(n){if(d){var t=n.touches[0],e=t.screenX,r=t.screenY;l({x:e,y:r});var u=e-d.x,c=r-d.y;s(u,c);var T=Date.now();O(T),j(T-g),E({x:u,y:c})}},onTouchEnd:function(){if(d&&(l(null),E(null),b)){var n=b.x/y,t=b.y/y,e=Math.abs(n),r=Math.abs(t);if(Math.max(e,r)<.1)return;var u=n,c=t;m.current=window.setInterval(function(){Math.abs(u)<.01&&Math.abs(c)<.01?window.clearInterval(m.current):s(20*(u*=S),20*(c*=S))},20)}},onWheel:function(n){var t=n.deltaX,e=n.deltaY,r=0,u=Math.abs(t),c=Math.abs(e);u===c?r=p.current==="x"?t:e:u>c?(r=t,p.current="x"):(r=e,p.current="y"),s(-r,-r)&&n.preventDefault()}},R.useEffect(function(){function n(e){f.current.onTouchMove(e)}function t(e){f.current.onTouchEnd(e)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",t,{passive:!0}),o.current.addEventListener("touchstart",function(e){f.current.onTouchStart(e)},{passive:!0}),o.current.addEventListener("wheel",function(e){f.current.onWheel(e)},{passive:!1}),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",t)}},[])};
