"use strict";const f=require("../../@babel/runtime/helpers/esm/extends.cjs"),p=require("../../@babel/runtime/helpers/esm/defineProperty.cjs"),I=require("../../@babel/runtime/helpers/esm/objectSpread2.cjs"),d=require("../../@babel/runtime/helpers/esm/slicedToArray.cjs"),ce=require("../../@babel/runtime/helpers/esm/typeof.cjs"),ue=require("../../@babel/runtime/helpers/esm/objectWithoutProperties.cjs"),le=require("../../../_virtual/index.cjs"),K=require("../../rc-util/es/hooks/useMergedState.cjs"),se=require("../../rc-util/es/isMobile.cjs"),c=require("react"),de=require("./TabContext.cjs"),be=require("./TabNavList/Wrapper.cjs"),fe=require("./TabPanelList/index.cjs"),pe=require("./hooks/useAnimateConfig.cjs");function ve(e){const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(u,r,l.get?l:{enumerable:!0,get:()=>e[r]})}}return u.default=e,Object.freeze(u)}const o=ve(c);var me=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],D=0,M=o.forwardRef(function(e,u){var r=e.id,l=e.prefixCls,n=l===void 0?"rc-tabs":l,_=e.className,v=e.items,G=e.direction,V=e.activeKey,w=e.defaultActiveKey,m=e.editable,A=e.animated,C=e.tabPosition,q=C===void 0?"top":C,z=e.tabBarGutter,R=e.tabBarStyle,F=e.tabBarExtraContent,H=e.locale,J=e.more,L=e.destroyInactiveTabPane,Q=e.renderTabBar,T=e.onChange,E=e.onTabClick,U=e.onTabScroll,W=e.getPopupContainer,X=e.popupClassName,Y=e.indicator,Z=ue(e,me),a=o.useMemo(function(){return(v||[]).filter(function(t){return t&&ce(t)==="object"&&"key"in t})},[v]),N=G==="rtl",P=pe(A),$=c.useState(!1),g=d($,2),x=g[0],y=g[1];c.useEffect(function(){y(se())},[]);var ee=K(function(){var t;return(t=a[0])===null||t===void 0?void 0:t.key},{value:V,defaultValue:w}),B=d(ee,2),s=B[0],k=B[1],te=c.useState(function(){return a.findIndex(function(t){return t.key===s})}),S=d(te,2),O=S[0],re=S[1];c.useEffect(function(){var t,i=a.findIndex(function(b){return b.key===s});i===-1&&(i=Math.max(0,Math.min(O,a.length-1)),k((t=a[i])===null||t===void 0?void 0:t.key)),re(i)},[a.map(function(t){return t.key}).join("_"),s,O]);var ae=K(null,{value:r}),h=d(ae,2),ne=h[0],ie=h[1];c.useEffect(function(){r||(ie("rc-tabs-".concat(process.env.NODE_ENV==="test"?"test":D)),D+=1)},[]);var j={id:ne,activeKey:s,animated:P,tabPosition:q,rtl:N,mobile:x},oe=I(I({},j),{},{editable:m,locale:H,more:J,tabBarGutter:z,onTabClick:function(t,i){E==null||E(t,i);var b=t!==s;k(t),b&&(T==null||T(t))},onTabScroll:U,extra:F,style:R,panes:null,getPopupContainer:W,popupClassName:X,indicator:Y});return o.createElement(de.Provider,{value:{tabs:a,prefixCls:n}},o.createElement("div",f({ref:u,id:r,className:le(n,"".concat(n,"-").concat(q),p(p(p({},"".concat(n,"-mobile"),x),"".concat(n,"-editable"),m),"".concat(n,"-rtl"),N),_)},Z),o.createElement(be,f({},oe,{renderTabBar:Q})),o.createElement(fe,f({destroyInactiveTabPane:L},j,{animated:P}))))});process.env.NODE_ENV!=="production"&&(M.displayName="Tabs"),module.exports=M;
