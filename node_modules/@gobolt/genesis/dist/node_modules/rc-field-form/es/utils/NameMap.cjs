"use strict";const o=require("../../../@babel/runtime/helpers/esm/slicedToArray.cjs"),p=require("../../../@babel/runtime/helpers/esm/toConsumableArray.cjs"),m=require("../../../@babel/runtime/helpers/esm/classCallCheck.cjs"),y=require("../../../@babel/runtime/helpers/esm/createClass.cjs"),q=require("../../../@babel/runtime/helpers/esm/defineProperty.cjs"),d=require("../../../@babel/runtime/helpers/esm/typeof.cjs");var c="__@field_split__";function i(r){return r.map(function(e){return"".concat(d(e),":").concat(e)}).join(c)}var _=function(){function r(){m(this,r),q(this,"kvs",new Map)}return y(r,[{key:"set",value:function(e,t){this.kvs.set(i(e),t)}},{key:"get",value:function(e){return this.kvs.get(i(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(i(e))}},{key:"map",value:function(e){return p(this.kvs.entries()).map(function(t){var n=o(t,2),u=n[0],v=n[1],l=u.split(c);return e({key:l.map(function(f){var k=f.match(/^([^:]*):(.*)$/),a=o(k,3),h=a[1],s=a[2];return h==="number"?Number(s):s}),value:v})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,u=t.value;return e[n.join(".")]=u,null}),e}}]),r}();module.exports=_;
